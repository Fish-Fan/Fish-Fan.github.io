<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-css-vertical-align" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/08/css-vertical-align/" class="article-date">
  <time datetime="2016-09-08T02:52:51.000Z" itemprop="datePublished">2016-09-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/08/css-vertical-align/">css vertical-align</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="对css中vertical-align属性的理解"><a href="#对css中vertical-align属性的理解" class="headerlink" title="对css中vertical-align属性的理解 :"></a>对css中vertical-align属性的理解 :</h2><p>这里提供一个 <a href="http://www.zhangxinxu.com/wordpress/2010/05/%E6%88%91%E5%AF%B9css-vertical-align%E7%9A%84%E4%B8%80%E4%BA%9B%E7%90%86%E8%A7%A3%E4%B8%8E%E8%AE%A4%E8%AF%86%EF%BC%88%E4%B8%80%EF%BC%89/" target="_blank" rel="external">传送门</a> ,大家可以进去看一下张鑫旭学长的详细解释。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/08/css-vertical-align/" data-id="cistqxt9w0006grnrmvm49lc1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mouse事件的区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/06/mouse事件的区别/" class="article-date">
  <time datetime="2016-09-06T08:04:26.000Z" itemprop="datePublished">2016-09-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/06/mouse事件的区别/">mouse事件的区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="mouseover和mouseenter事件的区别"><a href="#mouseover和mouseenter事件的区别" class="headerlink" title="mouseover和mouseenter事件的区别"></a>mouseover和mouseenter事件的区别</h2><ul>
<li><p><strong>mouseover</strong> : 在鼠标移动到选取的元素及其子元素上触发事件，意味着在从选取元素进入到子元素时或者从子元素进入到选取元素时也会触发事件。</p>
</li>
<li><p><strong>mouseenter</strong> : 在鼠标移动到选取的元素上时触发事件。</p>
</li>
</ul>
<h2 id="mouseout和mouseleave事件的区别"><a href="#mouseout和mouseleave事件的区别" class="headerlink" title="mouseout和mouseleave事件的区别"></a>mouseout和mouseleave事件的区别</h2><ul>
<li><p><strong>mouseout</strong> : 在鼠标离开选取元素及其子元素时触发事件，意味着从子元素离开进入到选取元素时也会触发事件。</p>
</li>
<li><p><strong>mouseleave</strong> : 在鼠标离开选取元素时触发事件。</p>
</li>
</ul>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结 :"></a>小结 :</h3><p><strong>mouseover</strong> 和 <strong>mouseout</strong> 是一对事件。<br><strong>mouseenter</strong> 和 <strong>mouseleave</strong> 是一对事件。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/06/mouse事件的区别/" data-id="cistqxta10008grnr7in6zg76" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-对未来新添加的节点绑定事件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/06/对未来新添加的节点绑定事件/" class="article-date">
  <time datetime="2016-09-06T04:41:11.000Z" itemprop="datePublished">2016-09-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/06/对未来新添加的节点绑定事件/">对未来新添加的节点绑定事件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="为未来新添加的节点绑定事件"><a href="#为未来新添加的节点绑定事件" class="headerlink" title="为未来新添加的节点绑定事件"></a>为未来新添加的节点绑定事件</h3><p>以下例子只能通过点击第一个 <strong>p元素</strong> 来创建节点，点击 <strong>新生成的p元素</strong> 是不会有反应的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>点击创建一个新的p元素<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">".container p"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  $(<span class="keyword">this</span>).after(<span class="string">"&lt;p&gt;点击创建一个新的p元素&lt;/p&gt;"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>使用 <strong>on()方法</strong> 或者 <strong>delegate()方法</strong> 来为未来节点绑定事件。<br>推荐使用 <strong>on()方法</strong> ,因为自jQuery1.7版本起，delegate方法被on方法所取代。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//使用on方法</span></div><div class="line">$(<span class="string">".container"</span>).on(<span class="string">"click"</span>,<span class="string">"p"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  $(<span class="keyword">this</span>).after(<span class="string">"&lt;p&gt;点击创建一个新的p元素&lt;/p&gt;"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//使用delegate方法</span></div><div class="line">$(<span class="string">".container"</span>).delegate(<span class="string">"p"</span>,<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  $(<span class="keyword">this</span>).after(<span class="string">"&lt;p&gt;点击创建一个新的p元素&lt;/p&gt;"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/06/对未来新添加的节点绑定事件/" data-id="cistqxta7000dgrnrr2xab9v8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-jQuery知识体系" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/06/jQuery知识体系/" class="article-date">
  <time datetime="2016-09-06T04:35:00.000Z" itemprop="datePublished">2016-09-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/06/jQuery知识体系/">jQuery知识体系</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="jQuery知识体系"><a href="#jQuery知识体系" class="headerlink" title="jQuery知识体系"></a>jQuery知识体系</h2><p><img src="http://www.fanyank.com/images/hexoWeb/jQuery知识体系.png" alt="jQuery知识体系"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/06/jQuery知识体系/" data-id="cistqxta20009grnr7yk80hqu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-第九章-DOM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/29/第九章-DOM/" class="article-date">
  <time datetime="2016-08-29T12:22:06.000Z" itemprop="datePublished">2016-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/29/第九章-DOM/">第九章 DOM</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第九章-DOM"><a href="#第九章-DOM" class="headerlink" title="第九章 DOM"></a>第九章 DOM</h2><p>DOM（文档对象模型）是针对HTML和XML文档的一个API（应用程序编程接口)。DOM描绘了一个层次化的节点树，允许开发人员添加，移除和修改页面的一部分，DOM脱胎于Netscape及微软公司创始的DHTML(动态HTML)，但现在它已经成为表现和操作页面标记的真正的跨平台、语言中立的方式。</p>
<h3 id="1-节点层次"><a href="#1-节点层次" class="headerlink" title="1.节点层次 :"></a>1.节点层次 :</h3><p>DOM可以将任何HTML或XML文档描绘成一个由多层次节点构成的结构。节点分为几种不同的类型，每种类型分别表示文档中不同的信息或标记。每个节点都有各自的特点，数据和方法，另外节点也与其他节点存在联系。节点之间构成了层次，而所有页面标记则表现为一个特定节点为根节点的树形结构。以下面HTML为例 :<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Sample Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello world!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>可以将这个简单的HTML文档表示为一个层次结构。如图所示 :</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/node.jpg" alt="node"></p>
<p>文档节点是每个文档的根节点。在这个例子中，文档结点只有一个子节点，即 <strong><html></html></strong> 元素，我们称之为文档元素。文档元素是文档的最外层元素，文档中的其他所有元索都包含在文档元素中。每个文档只能有一个文档元索。在HTML页面中，文档元索始终都是 <strong><html></html></strong> 元素。在XML中，没有预定义的元素，因此任何元素都可能成为文档元索。</p>
<p>每一段标记都可以通过树中的一个节点来表示HTML元索通过元素节点表示，特性(attribute) 通过特性节点表示，文档类型通过文档类型节点表示，而注释则通过注释节点表示。总共有12种节点类型，这些类型都继承自一个基类型。</p>
<h3 id="2-Node类型"><a href="#2-Node类型" class="headerlink" title="2. Node类型 :"></a>2. Node类型 :</h3><p>JavaScript中所有的节点类型都继承自 <strong>Node</strong> 类型，因此所有节点类型都共享着相同的基本属性和方法。</p>
<h3 id="节点类型"><a href="#节点类型" class="headerlink" title="节点类型"></a>节点类型</h3><p>每个节点都有一个 <strong>nodeType</strong> 属性，用于表明节点的类型。节点类型由在 <strong>Node</strong> 类型中定义的下列12个数值来表示，任何节点必居其一 :</p>
<ul>
<li>Node.ELEMENT_NODE(1);</li>
<li>Node.ATTRIBUTE_NODE(2);</li>
<li>Node.TEXT_NODE(3);</li>
<li>Node.CDATA_SECTION_NODE(4);</li>
<li>Node.ENTITY_REFERENCE_NODE(5);</li>
<li>Node.ENTITY_NODE(6);</li>
<li>Node.PROCESSING_INSTRUCTION_NODE(7);</li>
<li>Node.COMMENT_NODE(8);</li>
<li>Node.DOCUMENT_NODE(9);</li>
<li>Node.DOCUMENT_TYPE_NODE(10);</li>
<li>Node.DOCUMENT_FRAGMENT_NODE(11);</li>
<li>Node.NOTATION_NODE(12);<br>通过比较上面这些常量，可以很容易的确定节点的类型，例如 :</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(someNode.nodeType == Node.ELEMENT_NODE)    <span class="comment">//在IE中无效</span></div><div class="line">&#123;</div><div class="line">  alert(<span class="string">"Node is an element."</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>由于IE没有公开 <strong>Node</strong> 类型的构造函数，因此上面的代码在IE中会导致错误。为确保跨浏览器兼容，最好还是和数值进行比较。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(someNode.nodeType == <span class="number">1</span>)    <span class="comment">//适用于所有浏览器</span></div><div class="line">&#123;</div><div class="line">  alert(<span class="string">"Node is an element."</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>虽然 <strong>nodeType</strong> 属性有12个可取值，但是仅有3种具有使用价值：</p>
<ul>
<li>元素节点 : <strong>nodeType</strong> 属性值1；</li>
<li>属性节点 : <strong>nodeType</strong> 属性值2；</li>
<li>文本节点 : <strong>nodeType</strong> 属性值3；</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">title</span> = <span class="string">"firstEle"</span>&gt;</span>Don't forget to buy this stuff.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>下面我们来看看那在一段 <strong>HTML</strong> 文档里，三者的关系是怎样的：</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/nodeinhtml.png" alt="node in html"></p>
<h3 id="NodeName和nodeValue属性"><a href="#NodeName和nodeValue属性" class="headerlink" title="NodeName和nodeValue属性"></a>NodeName和nodeValue属性</h3><p>要了解节点的具体信息，可以使用 <strong>nodeName</strong> 和 <strong>nodeValue</strong> 这两个属性。这两个属性的值完全取决于节点的类型。在使用这两个值以前，最好是先检测一下节点的类型。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(someNode.nodeType == <span class="number">1</span>)</div><div class="line">&#123;</div><div class="line">  value = someNode.nodeName;  <span class="comment">//nodeName的值是元素的标签名</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>nodeValue</strong> : 用来得到（和设定）一个节点的值。<br>在实际的使用过程中，如果我们想获得对象里的值（比如说是 <strong>p</strong> 标签，我们给它一个 <strong>id = “description”</strong>），下面这样做是不行的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> des = description.nodeValue;</div><div class="line">alert(des);            <span class="comment">//null</span></div></pre></td></tr></table></figure>
<p><strong>p</strong> 元素本身的 <strong>nodeValue</strong> 属性是一个空值，而你真正需要的是包含在 <strong>p</strong> 元素所包含的文本值。包含在 <strong>p</strong> 元素里的文本是另一种节点，它是 <strong>p</strong> 元素的第一个子节点。因此，你想要得到的其实是它的第一个子节点的 <strong>nodeValue</strong> 属性值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert(description.childNodes[<span class="number">0</span>].nodeValue);</div></pre></td></tr></table></figure>
<h3 id="节点关系"><a href="#节点关系" class="headerlink" title="节点关系"></a>节点关系</h3><p>文档中所有的节点之间都存在这样或那样的关系，节点间的各种关系可以用传统的家族关系来描述，相当于把文档树比喻成家谱。在HTML中，可以将 <strong><body></body></strong> 元素看成是<strong><html></html></strong> 元素的子元素,相应地，也就可以将 <strong><html></html></strong> 元素看成是 <strong><body></body></strong> 元素的父元素，而 <strong><head></head></strong> 元素，则可以看成是 <strong><body></body></strong> 元素<br>的同胞元素，因为它们都是同一个父元素 <strong><html></html></strong> 的直接子元素。</p>
<p><strong>childNodes</strong> 属性 :<br>每个节点都有一个 <strong>childNodes</strong> 属性，其中保存着一个 <strong>NodeList</strong> 对象。<strong>NodeList</strong> 是一种类数组对象，用于保存一组有序的节点，可以通过位置来访问这些节点。请注意，虽然可以通过方括号语法来访问NodeList的值，而且这个对象也有 <strong>length</strong> 属性，但它并不是 <strong>Array</strong> 的实例。<strong>NodeList</strong> 对象的独特之处在于，它实际上是基于DOM结构动态执行查询的结果，因此DOM结构的变化能够自动反映在 <strong>NodeList</strong> 对象中，我们常说，<strong>NodeList</strong> 是有生命、有呼吸的对象，而不是在我们第一次访问它们的某个瞬间拍摄下来的一张快照。</p>
<p>下面的例子展示了如何访问保存在<strong>NodeList</strong>中的节点：</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/29/第九章-DOM/" data-id="cistqxta9000fgrnrzmqu5rjk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript-DOM/">javascript DOM</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-第八章-BOM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/29/第八章-BOM/" class="article-date">
  <time datetime="2016-08-29T01:22:05.000Z" itemprop="datePublished">2016-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/29/第八章-BOM/">第八章 BOM</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第八章-BOM"><a href="#第八章-BOM" class="headerlink" title="第八章 BOM"></a>第八章 BOM</h2><h3 id="1-window对象"><a href="#1-window对象" class="headerlink" title="1. window对象 :"></a>1. window对象 :</h3><p>BOM的核心对象是 <strong>window</strong>,他表示浏览器的一个实例。在浏览器中，<strong>window</strong> 对象有双重角色，它既是通过JavaScript访问浏览器窗口的一个接口，又是ECMAScript规定的 <strong>Global</strong> 对象。这意味着在网页中定义的任何一个对象，变量，函数，都以 <strong>window</strong> 作为其 <strong>Global</strong> 对象。</p>
<h3 id="2-全局作用域"><a href="#2-全局作用域" class="headerlink" title="2. 全局作用域 :"></a>2. 全局作用域 :</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> age = <span class="number">29</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayAge</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="keyword">this</span>.age);</div><div class="line">&#125;</div><div class="line">alert(<span class="built_in">window</span>.age);     <span class="comment">//29</span></div><div class="line">sayAge();              <span class="comment">//29</span></div><div class="line"><span class="built_in">window</span>.sayAge();       <span class="comment">//29</span></div></pre></td></tr></table></figure>
<h3 id="3-窗口关系及框架"><a href="#3-窗口关系及框架" class="headerlink" title="3. 窗口关系及框架 :"></a>3. 窗口关系及框架 :</h3><p>如果页面包含框架，那么每个框架都将拥有自己的 <strong>window</strong> 对象，并且保存在 <strong>frames</strong> 集合中，在 <strong>frames</strong> 集合中，可以通过数值索引（从0开始，从左到右，从上到下）或者框架名称来访问相应的 <strong>window</strong> 对象，每个 <strong>window</strong> 对象都有一个 <strong>name</strong> 属性，其中包含框架的名称。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Framest Example<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">frameset</span> <span class="attr">row</span> = <span class="string">"160,*"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span> = <span class="string">"frame.htm"</span> <span class="attr">name</span> = <span class="string">"topFrame"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">frameset</span> <span class="attr">cols</span> = <span class="string">"50%,50%"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span> = <span class="string">"bottomLeft.htm"</span> <span class="attr">name</span> = <span class="string">"leftFrame"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span> = <span class="string">"bottomRight.htm"</span> <span class="attr">name</span> = <span class="string">"rightFrame"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>以上代码创建了一个框架集，其中一个框架居上，两个居下。下面我们来列举几种方法用来表示这三个框架集。<br>上部的框架集：<br><strong>window.frames[0]</strong><br>    <strong>window.frames[“topFrame”]</strong><br>    <strong>top.frames[0]</strong><br>    <strong>top.frames[“topFrame”]</strong><br>    <strong>frames[0]</strong><br>    <strong>frames[“topFrame”]</strong><br>下部的左侧框架集：<br>    <strong>window.frames[1]</strong><br>    <strong>window.frames[“leftFrame”]</strong><br>    <strong>top.frames[1]</strong><br>    <strong>top.frames[“leftFrame”]</strong><br>    <strong>frames[1]</strong><br>    <strong>frames[“leftFrame”]</strong><br>下部的右侧框架集：<br>    <strong>window.frames[2]</strong><br>    <strong>window.frames[“rightFrame”]</strong><br>    <strong>top.frames[2]</strong><br>    <strong>top.frames[“rightFrame”]</strong><br>    <strong>frames[2]</strong><br>    <strong>frames[“rightFrame”]</strong><br>这里来解释下 <strong>top</strong>,<strong>top</strong>是一个对象，始终指向最外层的框架，也就是浏览器窗口。<br>与 <strong>top</strong> 相对的另一个 <strong>window</strong> 对象是 <strong>parent</strong>，顾名思义，<strong>parent</strong> 对象始终指向当前框架的直接上层框架。在某些情况下，<strong>parent</strong> 有可能等于 <strong>top</strong>,但在没有框架的时候，<strong>parent</strong> 肯定等于 <strong>top</strong>(此时它们都等于 <strong>window</strong>)</p>
<p>另外，与框架有关的最后一个对象是 <strong>self</strong>,它始终指向 <strong>window</strong>，实际上 <strong>self</strong> 和 <strong>window</strong> 对象可以互换着使用。<br>最后，要说明的是这些对象都是 <strong>window</strong> 的属性，可以通过 <strong>window.top,window.parent</strong> 等形式来访问。同时，这也意味着可以将不同层次的 <strong>window</strong> 对象连辍起来，如 <strong>window.parent.parent.frames[0]</strong>。</p>
<h3 id="4-窗口位置"><a href="#4-窗口位置" class="headerlink" title="4. 窗口位置 :"></a>4. 窗口位置 :</h3><p>用来确定和修改窗口位置属性和方法有很多，先来说获取窗口位置的方法…</p>
<p>比如 IE，Safari,Opera,Chrome提供了 <strong>screenLeft</strong> 和 <strong>screenTop</strong> 属性，分别用于表示窗口相当于屏幕左边和上边的位置.<br>fireFox则使用 <strong>screenX</strong> 和 <strong>screenY</strong> 来表示。<br>所以，万全之策应该可以跨浏览器来取得窗口位置。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> leftPos = (<span class="keyword">typeof</span> <span class="built_in">window</span>.screenleft == <span class="string">"number"</span>) ? <span class="built_in">window</span>.screenleft : <span class="built_in">window</span>.screenX;</div><div class="line"><span class="keyword">var</span> rightPos = (<span class="keyword">typeof</span> <span class="built_in">window</span>.screenright == <span class="string">"number"</span>) ? <span class="built_in">window</span>.screenright : <span class="built_in">window</span>.screenY;</div></pre></td></tr></table></figure>
<p>接下来说改变窗口位置的方法:</p>
<ul>
<li><strong>moveBy()</strong> : 接收两个参数，分别是水平和垂直所要移动的像素数。</li>
<li><strong>moveTO()</strong> : 接收两个参数，分别是新位置的X坐标值和Y坐标值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//将窗口移动到屏幕左上角</span></div><div class="line"><span class="built_in">window</span>.moveTo(<span class="number">0</span>,<span class="number">0</span>);</div><div class="line"><span class="comment">//将窗口向下移动100像素</span></div><div class="line"><span class="built_in">window</span>.moveBy(<span class="number">0</span>,<span class="number">100</span>);</div><div class="line"><span class="comment">//将窗口向左移动50像素</span></div><div class="line"><span class="built_in">window</span>.moveBy(<span class="number">-50</span>,<span class="number">0</span>);</div></pre></td></tr></table></figure>
<p>需要说明的是，这两个方法可能会被浏览器给禁用，而且这两个方法都不适用于框架，只适用于window对象使用。</p>
<h3 id="5-窗口大小"><a href="#5-窗口大小" class="headerlink" title="5. 窗口大小 :"></a>5. 窗口大小 :</h3><p>窗口大小分两种，一种是获取整个浏览器的宽和高，这时就要用到 <strong>outerHeight</strong>    和 <strong>outerWidth</strong> 属性。<br>另一种是除去工具栏，状态栏，边框等占位元素后剩余的净长宽，这时要用到 <strong>innerHeight</strong> 和 <strong>innerWidth</strong> 属性。</p>
<h3 id="6-导航和打开窗口"><a href="#6-导航和打开窗口" class="headerlink" title="6. 导航和打开窗口 :"></a>6. 导航和打开窗口 :</h3><p><strong>window.open()</strong> 方法接收4个参数 : 要加载的URL，窗口目标，一个特性字符串以及一个表示新页面是否取代浏览器历史记录中当前加载页面的布尔值。通常只需传入一个参数，最后一个参数只在不打开新窗口的情况下使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//等同于&lt;a href = "http://www.fanyank.com" target = "topFrame"&gt;&lt;/a&gt;</span></div><div class="line"><span class="built_in">window</span>.open(<span class="string">"http://www.fanyank.com"</span>,<span class="string">"topFrame"</span>);</div></pre></td></tr></table></figure>
<p>调用这行代码，就如同用户点击了 <em>href</em> 属性为 <em><a href="http://www.fanyank.com/" target="_blank" rel="external">http://www.fanyank.com/</a></em> , <strong>target</strong> 属性为 <em>”topFrame”</em> 的链接，如果有一个名叫“topFrame”的框架或者窗口，就会在该窗口或框架中加载这个URL；否则，就会创建一个名叫“topFrame”的新窗口。<br>如果利用该方法创建了一个新窗口，那么那么第三个参数就是用来调整新窗口的各项属性的，如果没有第三个参数，将会创建一个默认的新窗口。<br>第三个参数是一个逗号分隔的设置字符串，下表列出了可以出现在这个字符串的设置选项。</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/window对象.png" alt="window对象"></p>
<p><strong>注意 ：整个特性字符串中不允许出现空格</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.open(<span class="string">"http://www.fanyank.com/"</span>,<span class="string">"newWindow"</span>,</div><div class="line"><span class="string">"height=400,width=400,top=10,left=10,resizable=yes"</span>);</div></pre></td></tr></table></figure>
<p>这行代码会打开一个新的可以调节大小的窗口，窗口的初始大小为400*400像素，并且距离屏幕上边和左边各10像素。</p>
<p><strong>window.open()</strong> 方法会返回一个指向新窗口的引用。引用的对象与其他的 <strong>window</strong> 对象大致类似，但我们可以对其进行更多的控制。例如，有的浏览器在默认的情况下可能不允许我们针对主浏览器窗口调节大小或移动位置，但却允许我们针对通过 <strong>window.open()</strong> 创建的窗口调节大小和移动位置。通过这个返回对象，可以像操作其他窗口一样操作新打开的窗口。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> newObject = <span class="built_in">window</span>.open(<span class="string">"http://www.fanyank.com/"</span>,<span class="string">"newWindow"</span>,</div><div class="line"><span class="string">"height=400,width=400,top=10,left=10,resizable=yes"</span>);</div><div class="line"><span class="comment">//调整大小</span></div><div class="line">newObject.resizeTo(<span class="number">500</span>,<span class="number">500</span>);</div><div class="line"><span class="comment">//移动位置</span></div><div class="line">newObject.moveTo(<span class="number">100</span>,<span class="number">100</span>);</div><div class="line"><span class="comment">//关闭新打开的窗口</span></div><div class="line">newObject.close();</div></pre></td></tr></table></figure>
<h3 id="7-间歇调用和超时调用"><a href="#7-间歇调用和超时调用" class="headerlink" title="7. 间歇调用和超时调用 :"></a>7. 间歇调用和超时调用 :</h3><p>JavaScript是单线程语言，但它允许通过设置超时值和间歇时间值来调度代码在特定的时刻执行。</p>
<ul>
<li><p><strong>超时调用</strong> : 在指定的时间过后执行代码。<br>  超时调用需要使用 <strong>window</strong> 对象的 <strong>setTimeout()</strong> 方法，该方法接收两个参数：要执行的代码和以毫秒表示的时间，其中第一个参数可以是一个包含JavaScript代码的字符串（和 <strong>eval()</strong> 函数中使用的字符串一样），也可以是一个函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//不建议传递字符串,这样做可能会损失性能</span></div><div class="line">setTimeout(<span class="string">"alert('Hello world!')"</span>,<span class="number">1000</span>);</div><div class="line"><span class="comment">//推荐的调用方式</span></div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">"Hello world!"</span>);</div><div class="line">&#125;,<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<p>  调用 <strong>setTimeout()</strong> 之后该方法会返回一个数值ID，表示超时调用。这个超值调用ID是计划执行代码的唯一标识符，可以用它来取消超时调用。<br>  可以调用 <strong>clearTimeout()</strong> 方法来取消超时调用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">  <span class="comment">//设置超时调用</span></div><div class="line"><span class="keyword">var</span> timeoutId = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">"Hello world!"</span>);</div><div class="line">&#125;,<span class="number">1000</span>);</div><div class="line"><span class="comment">//取消超时调用</span></div><div class="line">clearTimeout(timeoutId);</div></pre></td></tr></table></figure>
</li>
<li><p><strong>间歇调用</strong> : 每隔一段时间就执行一次代码。<br>  间歇调用要使用 <strong>window</strong> 对象的 <strong>setInterval()</strong> 方法，接受的参数与 <strong>setTimeout()</strong> 相同，要执行的代码和每次执行之前需要等待的毫秒数。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//和上面一样，不建议传递字符串</span></div><div class="line"><span class="comment">//推荐调用方式</span></div><div class="line">setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">"Hello world!"</span>);</div><div class="line">&#125;,<span class="number">10000</span>);</div></pre></td></tr></table></figure>
<p>调用 <strong>setInterval</strong> 方法后也会返回一个间歇调用ID，该ID也是用来在将来的某个时刻取消间歇调用，但是在不加干涉的情况下，间歇调用将一直进行，直到页面关闭。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> max = <span class="number">10</span>;</div><div class="line"><span class="keyword">var</span> intervalId = <span class="literal">null</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">incrementNumber</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(num == max)&#123;</div><div class="line">    clearInterval(intervalId);</div><div class="line">    alert(<span class="string">"Done"</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">intervalId = setInterval(incrementNumber,<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<p>需要说明的是，在开发中，很少真正的使用间歇调用，原因是后一个间歇调用可能会在前一个间歇调用之前启动。解决方法是我们可以通过超时调用来模拟间歇调用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> max = <span class="number">10</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">incrementNumber</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  num++;</div><div class="line">  <span class="keyword">if</span>(num &lt; max)&#123;</div><div class="line">    setTimeout(incrementNumber,<span class="number">1000</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    alert(<span class="string">"Done"</span>);</div><div class="line">&#125;</div><div class="line">setTimeout(increment,<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<h3 id="8-系统对话框"><a href="#8-系统对话框" class="headerlink" title="8. 系统对话框 :"></a>8. 系统对话框 :</h3><ul>
<li><strong>alert()</strong> : 这里不再赘述。</li>
</ul>
<p><img src="http://www.fanyank.com/images/hexoWeb/alert.png" alt="alert"></p>
<ul>
<li><strong>confirm()</strong> : 用户将有两个选择（确定和取消），用户点击后，可以通过检查 <strong>confirm()</strong> 方法返回的布尔值来确定用户的点击行为。</li>
</ul>
<p><img src="http://www.fanyank.com/images/hexoWeb/confirm.png" alt="confirm"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(confirm(<span class="string">"Are you sure"</span>))</div><div class="line">&#123;</div><div class="line">  alert(<span class="string">"I'm glad to hear you're sure!"</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span></div><div class="line">&#123;</div><div class="line">  alert(<span class="string">"I'm sorry to hear you're not sure"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>prompt()</strong> : 用于提示用户输入一些内容，提示框中除了有确定和取消按钮外，还有一个文本框来接受用户的输入。</li>
</ul>
<p>该方法接受两个参数，要显示给用户的文本提示和文本输入域的默认值（可以是一个空字符串）</p>
<p>返回值：返回用户所输入的值</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/prompt.png" alt="prompt"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> result = prompt(<span class="string">"What's your name"</span>,<span class="string">"Michael"</span>);</div><div class="line"><span class="keyword">if</span>(result !== <span class="literal">null</span>)&#123;</div><div class="line">  alert(<span class="string">"Welcome,"</span> + result);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="9-location对象"><a href="#9-location对象" class="headerlink" title="9. location对象 :"></a>9. location对象 :</h3><p><strong>location</strong> 对象是最有用的BOM对象之一，它提供了与当前窗口加载的文档有关的信息，还提供了一些导航功能。它的作用还表现在讲URL解析为独立的片段，让开发人员可以通过不同的属性来访问这些字段。下表列出了 <strong>location</strong> 对象的所有属性。</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/location.png" alt="location"></p>
<p>来看一个完整的URL<br><em><a href="http://www.wrox.com:8080/wileyCDA/?q=javascript#contents" target="_blank" rel="external">http://www.wrox.com:8080/wileyCDA/?q=javascript#contents</a></em><br>分解后就是：<br><strong>location.protocol:”http:”</strong><br><strong>location.href:”<a href="http://www.wrox.com”" target="_blank" rel="external">http://www.wrox.com”</a></strong><br><strong>location.host:”www.wrox.com:80”</strong><br><strong>location.post:”8080”</strong><br><strong>location.pathname:”/wileyCDA/”</strong><br><strong>location.search:”?q=javascript”</strong><br><strong>location.hash:”#contents”</strong><br>位置操作：<br>    使用 <strong>location</strong> 对象可以改变浏览器的URL。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//常用的方式有两种：</span></div><div class="line"><span class="comment">//使用assign方法</span></div><div class="line">location.assign(<span class="string">"http://www.wrox.com"</span>);</div><div class="line"><span class="comment">//使用href属性</span></div><div class="line">location.href = <span class="string">"http://www.wrox.com"</span>;</div></pre></td></tr></table></figure>
<p>当我们修改URL后，浏览器的历史记录就会增加一条新记录，因此用户点击后退按钮时，会导航到前一个页面，要想禁用这种行为，可以使用 <strong>replace()</strong> 方法<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>You won't be able to get back here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Enjoy this page for a second , because you won't be coming back here.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">      setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        location.replace(<span class="string">"http://www.wrox.com/"</span>);</div><div class="line">      &#125;,<span class="number">1000</span>);</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>与位置有关的最后一个方法是 <strong>reload()</strong>。<br>作用是重新加载当前页面,如给方法不传递任何参数，页面就会以最有效的方法来重新加载，也就是说，页面自上次请求以来并没有改变过，页面就会从浏览器的缓存中加载，如果强制从服务器端加载，就应该给这个方法传入一个参数 <strong>true</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//可能从浏览器缓存中加载</span></div><div class="line">  location.reload();</div><div class="line"><span class="comment">//强制从服务器端加载</span></div><div class="line">  location.reload(<span class="literal">true</span>);</div></pre></td></tr></table></figure>
<h3 id="10-navigator对象"><a href="#10-navigator对象" class="headerlink" title="10. navigator对象 :"></a>10. navigator对象 :</h3><p><strong>navigator对象</strong> 现在已成为识别客户端浏览器的标准，与其他BOM对象一样，每个浏览器的 <strong>navigator对象</strong> 也有着自己的一套属性。下表列出了存在于所有浏览器的属性和方法以及支持他们的浏览器版本。</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/navigator.jpg" alt="navigator"></p>
<p><img src="http://www.fanyank.com/images/hexoWeb/navigator1.jpg" alt="navigator next"></p>
<p>这些 <strong>navigator对象</strong> 的属性通常用于检测浏览器的类型。<br><em>检测插件</em> :<br>检测浏览器中是否安装了特定的插件是一种最常见的检测例程，对于非IE浏览器，可以使用 <strong>plugins数组</strong> 来达到这个目的，该数组中的每一项都包含下列属性。</p>
<ul>
<li><strong>name</strong> : 插件的名字。</li>
<li><strong>description</strong> : 插件的描述。</li>
<li><strong>filename</strong> : 插件的文件名。</li>
<li><strong>length</strong> : 插件所处理的MIME类型数量。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//检测插件（在IE中无效）</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPlugin</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  name = name.toLowerCase();</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; navigator.plugins.length;i++)</div><div class="line">  &#123;</div><div class="line">    <span class="keyword">if</span>(navigator.plugins[i].name.toLowerCase().indexOf(name) &gt; <span class="number">-1</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">//检测Flash</span></div><div class="line">alert(hasPlugin(<span class="string">"flash"</span>));</div><div class="line"><span class="comment">//检测QuickTime</span></div><div class="line">alert(hasPlugin(<span class="string">"QuickTime"</span>));</div></pre></td></tr></table></figure>
<p>接下来介绍检测IE中插件的方法，检测IE中的插件比较麻烦，因为IE不支持Netspace式的插件。在IE中检测插件的唯一办法就是使用专有的 <strong>ActiveXObject</strong> 类型，并尝试创建一个特定插件的实例。IE是以COM对象的方式实现插件的，而COM对象使用唯一的标识符来标识，因此，要想检查特定的插件就必须知到插件的标识符。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//检测IE中的插件</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasIEplugin</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  <span class="keyword">try</span>&#123;</div><div class="line">    <span class="keyword">new</span> ActiveXObject(name);</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">catch</span>(ex)&#123;</div><div class="line">    <span class="keyword">return</span> fasle;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//检测Flash</span></div><div class="line">alert(hasIEPlugin(<span class="string">"ShockwaveFlash.ShockwaveFlash"</span>));</div><div class="line"><span class="comment">//检测QuickTime</span></div><div class="line">alert(hasIEPlugin(<span class="string">"QuickTime.QuickTime"</span>));</div></pre></td></tr></table></figure>
<p>最后是通用的方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//检测所有浏览器中的Flash</span></div><div class="line"><span class="comment">//ShockwaveFlash.ShockwaveFlash是Flash的标识符</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasFlash</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> result = hasPlugin(<span class="string">"Flash"</span>);</div><div class="line">  <span class="keyword">if</span>(!result)&#123;</div><div class="line">    result = hasIEplugin(<span class="string">"ShockwaveFlash.ShockwaveFlash"</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">&#125;</div><div class="line"><span class="comment">//检测所有浏览器中的QuickTime</span></div><div class="line"><span class="comment">//QuickTime.QuickTime是Quick的标识符</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasQuick</span></span>&#123;</div><div class="line">  <span class="keyword">var</span> result = hasPlugin(<span class="string">"QuickTime"</span>);</div><div class="line">  <span class="keyword">if</span>(!result)</div><div class="line">  &#123;</div><div class="line">    result = hasIEplugin(<span class="string">"QuickTime.QuickTime"</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">&#125;</div><div class="line"><span class="comment">//检测Flash</span></div><div class="line">alert(hasFlash());</div><div class="line"><span class="comment">//检测QuickTime</span></div><div class="line">alert(hasQuickTime());</div></pre></td></tr></table></figure>
<h3 id="11-screen对象"><a href="#11-screen对象" class="headerlink" title="11. screen对象 :"></a>11. screen对象 :</h3><p>JavaScript有几个对象在编程中用处不大，<strong>Screen对象</strong> 就是其中一个。</p>
<p><strong>Screen对象</strong> 基本上只用来表明客户端的能力。其中包括浏览器外部窗口的信息，如像素的宽度和高度等。每个浏览器中的 <strong>Screen对象</strong> 都包含着各不相同的属性，下表列出了所有属性及支持相应属性的浏览器。</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/screen.jpg" alt="screen"></p>
<p><img src="http://www.fanyank.com/images/hexoWeb/screen1.jpg" alt="screen next"></p>
<h3 id="12-history对象"><a href="#12-history对象" class="headerlink" title="12. history对象 :"></a>12. history对象 :</h3><p><strong>history对象</strong> 保存着用户上网的历史记录。因为 <strong>history</strong> 是 <strong>window</strong> 对象的属性，因此每个浏览器窗口，每个标签页甚至每个框架，都有着自己的 <strong>history对象</strong> 与特定的 <strong>window对象</strong> 相关联。出于安全性方面考虑，开发人员无法得知用户浏览过的URL，但是借助用户访问过的页面列表，可以再不知道用户实际URL的情况下实现后退和前进。<br><strong>history对象</strong> 有下列几种方法：<br>    <strong>go()</strong> : 在用户的历史记录中任意跳转，接受一个参数，该参数表示跳转页面的一个整数值（负数表示向后跳转，正数表示向前跳转）。<br>也可以给该方法传递一个字符串参数，此时浏览器会跳转到包含该字符串最近的历史记录的页面上（可能前进，也可能后退），如果历史记录不包含该字符串，那么这个方法什么也不做。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//go()方法</span></div><div class="line">history.go(<span class="number">-1</span>);       <span class="comment">//后退一页</span></div><div class="line">history.go(<span class="number">1</span>);        <span class="comment">//前进一页</span></div><div class="line">history.go(<span class="number">2</span>);        <span class="comment">//前进两页</span></div><div class="line"><span class="comment">//还可以使用两个简写的方法来代替go()方法</span></div><div class="line">history.back();       <span class="comment">//后退一页</span></div><div class="line">history.forward();     <span class="comment">//前进一页</span></div></pre></td></tr></table></figure>
<p>除了上述几个方法外，<strong>history对象</strong> 还有一个 <strong>length</strong> 属性，保存着历史记录的数量。对于加载窗口，标签页或框架中的第一个页面而言，<strong>history.length</strong> 等于0，通过测试该属性的值可以确定用户是否一开始就打开了你的页面。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//检测用户是否一开始就打开你的页面</span></div><div class="line"><span class="keyword">if</span>(history.length == <span class="number">0</span>)</div><div class="line">&#123;</div><div class="line">  alert(<span class="string">"Welcome"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/29/第八章-BOM/" data-id="cistqxtaa000hgrnrkpuloko9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript-BOM/">javascript BOM</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-第七章-函数表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/29/第七章-函数表达式/" class="article-date">
  <time datetime="2016-08-29T00:53:44.000Z" itemprop="datePublished">2016-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/29/第七章-函数表达式/">第七章 函数表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第七章-函数表达式"><a href="#第七章-函数表达式" class="headerlink" title="第七章 函数表达式"></a>第七章 函数表达式</h2><h3 id="1-定义函数的两种方法-："><a href="#1-定义函数的两种方法-：" class="headerlink" title="1. 定义函数的两种方法 ："></a>1. 定义函数的两种方法 ：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//函数声明法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">"Hi!"</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//关于函数声明法，他的一个重要特征就是函数声明提升，即在执行代码之前会先读取函数声明，意味着我们可以把函数声明放在调用它语句的后面</span></div><div class="line"><span class="comment">//函数表达式</span></div><div class="line"><span class="keyword">var</span> sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">"Hi!"</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//关于两者的区别</span></div><div class="line"><span class="comment">//这样做会报错</span></div><div class="line"><span class="keyword">if</span>(condition)&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="string">"Hi"</span>!);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="string">"Yo!"</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//但这样就不会</span></div><div class="line"><span class="keyword">if</span>(condition)&#123;</div><div class="line">    sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	   alert(<span class="string">"Hi"</span>!);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span>&#123;</div><div class="line">    sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="string">"Yo!"</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-递归"><a href="#2-递归" class="headerlink" title="2. 递归 :"></a>2. 递归 :</h3><p>递归函数是在一个函数通过名字调用自身的情况下构成的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(num &lt;= <span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">return</span> num;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">return</span> num * factorial(num - <span class="number">1</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//这是一个经典的递归阶乘函数，虽然这个函数表面看起来没什么问题，但下面的代码却可能导致塔出错</span></div><div class="line"><span class="keyword">var</span> anotherFactorial = factorial;</div><div class="line">factorial = <span class="literal">null</span>;</div><div class="line">alert(anotherFactorial(<span class="number">4</span>));    <span class="comment">//出错</span></div><div class="line"><span class="comment">//原因是调用anotherFactorial()时，由于必须执行factorial()，所以就会导致错误</span></div><div class="line"><span class="comment">//解决方法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(num &lt;= <span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">return</span> num;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num - <span class="number">1</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//但在严格模式下不可以通过脚本来访问arguments.callee,不过可以通过命名函数表达式来达到相同的结果</span></div><div class="line"><span class="keyword">var</span> factorial(num)&#123;</div><div class="line">  <span class="keyword">if</span>(num &lt;= <span class="number">1</span>)</div><div class="line">  &#123;</div><div class="line">    <span class="keyword">return</span> num;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span></div><div class="line">  &#123;</div><div class="line">    <span class="keyword">return</span> num * f(num - <span class="number">1</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//以上代码创建了一个名为f的命名函数表达式，然后将它赋值给变量factorial,即使把函数赋值给了另一个函数，函数的名字f仍然有效，所有递归调用照样完成，这种方式在严格或非严格模式下都可以行得通</span></div></pre></td></tr></table></figure>
<h3 id="3-闭包"><a href="#3-闭包" class="headerlink" title="3. 闭包 :"></a>3. 闭包 :</h3><ul>
<li><strong>闭包</strong> :<br>指的是有权访问另一个函数作用域中变量的函数</li>
<li><strong>闭包的用途</strong> :<br>可以读取函数内部的变量并对其作出修改。<br>可以让这些变量的值始终保存在内存中。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//读取变量的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> n = <span class="number">10</span>;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(n);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> f2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> result = f1();</div><div class="line">result();            <span class="comment">//10</span></div><div class="line"><span class="comment">//对变量的值作出修改</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> n = <span class="number">10</span>;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(n + <span class="number">1</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> f2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> result = f1();</div><div class="line">result();            <span class="comment">//11</span></div><div class="line"><span class="comment">//或者这样对函数作出修改</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> n = <span class="number">10</span>;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">    n += <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(n);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> f2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> result = f1();</div><div class="line">result();               <span class="comment">//10</span></div><div class="line">add();</div><div class="line">result();               <span class="comment">//11</span></div><div class="line"><span class="comment">//在这段代码中，result实际上就是闭包f2函数。它一共运行了两次，第一次的值是10，第二次的值是11。这证明了，函数f1中的局部变量n一直保存在内存中，并没有在f1调用后被自动清除。</span></div><div class="line"><span class="comment">//为什么会这样呢？原因就在于f1是f2的父函数，而f2被赋给了一个全局变量，这导致f2始终在内存中，而f2的存在依赖于f1，因此f1也始终在内存中，不会在调用结束后，被垃圾回收机制（garbage collection）回收。</span></div></pre></td></tr></table></figure>
<p>在闭包模式下，<strong>this</strong> 对象有时候也可能会出现问题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"the window"</span>;</div><div class="line"><span class="keyword">var</span> object = &#123;</div><div class="line">  name: <span class="string">"the object"</span>,</div><div class="line">  getNameFun: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.name;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">alert(object.getNameFun()());     <span class="comment">//the window</span></div></pre></td></tr></table></figure>
<p>如果想访问对象内部的属性，只需要这样就可以了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> name = <span class="string">"the window"</span>;</div><div class="line"><span class="keyword">var</span> object = &#123;</div><div class="line">  name: <span class="string">"the object"</span>,</div><div class="line">  getNameFun: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> that.name;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line">alert(object.getNameFun()());     <span class="comment">//the object</span></div></pre></td></tr></table></figure>
<h3 id="4-模仿块级作用域"><a href="#4-模仿块级作用域" class="headerlink" title="4. 模仿块级作用域 :"></a>4. 模仿块级作用域 :</h3><p>如前所述，JavaScript中没有块级作用域的概念，这意味着在 <em>块语句</em> 中定义的变量，实际上是在函数内部创建的（并不是 <em>块语句</em> 内部）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">numbers</span>(<span class="params">count</span>)</span>&#123;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i &lt; <span class="number">10</span>;i++)</div><div class="line">  &#123;</div><div class="line">    alert(i);</div><div class="line">  &#125;</div><div class="line">  alert(i);    <span class="comment">//计数,i变量仍然可以被访问</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//上述即使你再块级语句下面再声明一次变量i也无济于事</span></div></pre></td></tr></table></figure>
<p>匿名函数可以用来模仿块级作用域来解决这个问题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//通用语法如下所示</span></div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line"><span class="comment">//这里是块级作用域</span></div><div class="line">&#125;)();   <span class="comment">//后面的括号表示声明函数后立即执行匿名函数</span></div></pre></td></tr></table></figure>
<p>所以上述例子引用块级作用域后应该为…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">numbers</span>(<span class="params">count</span>)</span>&#123;</div><div class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i &lt; <span class="number">10</span>;i++)</div><div class="line">    &#123;</div><div class="line">      alert(i);</div><div class="line">    &#125;</div><div class="line">  &#125;)();</div><div class="line">  alert(i);    <span class="comment">//导致错误</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/29/第七章-函数表达式/" data-id="cistqxta5000cgrnrhevqzazv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript-函数表达式/">JavaScript 函数表达式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript-第六章" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/27/JavaScript-第六章/" class="article-date">
  <time datetime="2016-08-27T01:08:19.000Z" itemprop="datePublished">2016-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/27/JavaScript-第六章/">JavaScript 第六章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第六章-面向对象程序设计"><a href="#第六章-面向对象程序设计" class="headerlink" title="第六章 面向对象程序设计"></a>第六章 面向对象程序设计</h2><h3 id="1-理解对象"><a href="#1-理解对象" class="headerlink" title="1. 理解对象 :"></a>1. 理解对象 :</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//创建对象的第一种方法</span></div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">person.name = <span class="string">"Jack"</span>;</div><div class="line">person.age = <span class="number">29</span>;</div><div class="line">person.job = <span class="string">"Software Enjineer"</span>;</div><div class="line">person.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="keyword">this</span>.name);</div><div class="line">&#125;;</div><div class="line"><span class="comment">//创建对象的第二种方法（常用的方法）</span></div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">  name: <span class="string">"Jack"</span>,</div><div class="line">  age: <span class="number">29</span>,</div><div class="line">  job: <span class="string">"Software Enjineer"</span>,</div><div class="line">  sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-属性类型"><a href="#2-属性类型" class="headerlink" title="2. 属性类型 :"></a>2. 属性类型 :</h3><p><strong>数据属性</strong> :<br>    数据属性包含一个数据值的位置，在这个位置可以读取和写入值，该属性有4个描述其行为的 <em>特性</em>。</p>
<ul>
<li><strong>configurable</strong> : 表示能否通过 <em>delete</em> 删除属性从而重新定义属性，能否修改属性的特性，能否把属性修改成为访问器属性，默认值为 <em>true</em>。</li>
<li><strong>enumerable</strong> : 表示能否通过 <em>for-in</em> 循环返回属性，默认值为 <em>true</em>。</li>
<li><strong>writable</strong> : 表示能否通过 <em>for-in</em> 循环返回属性，默认值为 <em>true</em>。</li>
<li><p><strong>value</strong> : 表示能否通过 <em>for-in</em> 循环返回属性，默认值为 <em>true</em>。</p>
<p>  PS:向前面那个对象定义的属性，他们的 <em>configurable</em>,<em>enumerable</em>,<em>writable</em> 的特性都被设置为 <em>true</em>,而 <em>value</em> 属性被设置为特定的值 <em>Jack</em>。</p>
<p>——————————接下来看一个可以修改默认属性特性的方法————————————</p>
</li>
</ul>
<p><strong>Object.defineProperty()</strong> : 用于修改属性默认的特性，该方法接受三个参数（属性所在的对象，属性的名字，一个描述符对象），描述符对象指的就是（<em>configurable</em>,<em>enumerable</em>,<em>writable</em>,<em>value</em>）其中的一个或多个。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = &#123;&#125;;            <span class="comment">//声明一个对象</span></div><div class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">"name"</span>,&#123;</div><div class="line">  writable: <span class="literal">false</span>,       <span class="comment">//不可修改属性的值</span></div><div class="line">  value: <span class="string">"Sam"</span>          <span class="comment">//给name赋值</span></div><div class="line">&#125;);</div><div class="line">alert(person.name);         <span class="comment">//Sam</span></div><div class="line">person.name = <span class="string">"Jack"</span>;</div><div class="line">alert(person.name);         <span class="comment">//Jack</span></div><div class="line"><span class="comment">//类似的规则也可适用于不可配置的属性</span></div><div class="line"><span class="keyword">var</span> person = &#123;&#125;;</div><div class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">"name"</span>,&#123;</div><div class="line">  configurable: <span class="literal">false</span>,   <span class="comment">//不可配置</span></div><div class="line">  value: <span class="string">"Jack"</span></div><div class="line">&#125;);</div><div class="line">alert(person.name);         <span class="comment">//Jack</span></div><div class="line"><span class="keyword">delete</span> person.name;</div><div class="line">alert(person.name);         <span class="comment">//Jack</span></div><div class="line"><span class="comment">//需要说明的是一旦把属性改为不可配置就不能再把它变回可配置了，此时，再调用Object.defineProperty()方法修改除writable之外的特性，都会导致错误</span></div></pre></td></tr></table></figure>
<p><strong>访问器属性</strong>（类似于C#中的访问器）:<br>    访问器属性不包含数据值，它们包含一对 <em>getter</em> 和 <em>setter</em> 函数（这两个都不是必须的）,读取访问器属性时，调用 <em>getter</em> 函数；写入访问器属性时，调用 <em>setter</em> 函数并传入新值，这个函数决定如何让处理数据，访问器属性有如下4大特性。</p>
<ul>
<li><p><strong>configurable</strong> : 表示能否通过 <em>delete</em> 删除属性从而重新定义属性，能否修改属性的特性，能否把属性修改成为访问器属性，默认值为 <em>true</em>。</p>
</li>
<li><p><strong>enumerable</strong> : 表示能否通过 <em>for-in</em> 循环返回属性，默认值为 <em>true</em>。</p>
</li>
<li><p><strong>get</strong> : 表示能否通过 <em>for-in</em> 循环返回属性，默认值为 <em>true</em>。</p>
</li>
<li><p><strong>set</strong> : 表示能否通过 <em>for-in</em> 循环返回属性，默认值为 <em>true</em>。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//访问器属性不能直接被定义，必须通过Object.defineProperty()来定义</span></div><div class="line"><span class="keyword">var</span> book = &#123;</div><div class="line">  _year: <span class="number">2004</span>;     <span class="comment">//下划线表示只能通过对象方法访问的属性</span></div><div class="line">  edition: <span class="number">1</span>;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">Object</span>.definedProperty(book,<span class="string">"year"</span>,&#123;</div><div class="line">  get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._year;</div><div class="line">  &#125;</div><div class="line">  set: <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(newValue &gt; <span class="number">2004</span>)&#123;</div><div class="line">      <span class="keyword">this</span>._year = newValue;</div><div class="line">      edition = newValue - <span class="number">2004</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="3-定义多个属性"><a href="#3-定义多个属性" class="headerlink" title="3. 定义多个属性 :"></a>3. 定义多个属性 :</h3><p><strong>Object.defineProperties()</strong> : 该方法可以通过描述符一次性定义多个属性，接受两个 <em>对象</em> 参数，<em>第一个对象是要添加和修改其属性的对象</em> ，<em>第二个对象的属性与第一个对象中要添加或修改的属性一一对应</em>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> book = &#123;&#125;;</div><div class="line"><span class="built_in">Object</span>.defineProperties(book,&#123;</div><div class="line">  _year: &#123;</div><div class="line">    value: <span class="number">2004</span></div><div class="line">  &#125;,</div><div class="line">  edition: &#123;</div><div class="line">    value: <span class="number">1</span></div><div class="line">  &#125;,</div><div class="line">  year: &#123;</div><div class="line">    get: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>._year;</div><div class="line">    &#125;,</div><div class="line">    set: <span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>)</span>&#123;</div><div class="line">      <span class="keyword">if</span>(newValue &gt; <span class="number">2004</span>)&#123;</div><div class="line">        <span class="keyword">this</span>._year = newValue;</div><div class="line">        <span class="keyword">this</span>.edition += newValue - <span class="number">2004</span>;</div><div class="line">      &#125;</div><div class="line">    &#125;		</div><div class="line">  &#125;			</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="4-创建对象"><a href="#4-创建对象" class="headerlink" title="4. 创建对象 :"></a>4. 创建对象 :</h3><p>————————————接下来让我们进入重头戏，创建对象———————————————</p>
<p>目前在JavaScript中最常用的创建对象的模式是 <em>原型模式</em>，其他的一些模式如工厂模式，构造函数模式由于各自的缺点已经很少被使用，（我没说原型模式没有缺点），那么咱们就重点来介绍 <em>原型模式</em>。</p>
<p>在开始之前，先来说说什么是JavaScript中的构造函数（为什么要这样说，是因为JavaScript中的构造函数和其他语言中的不同），JavaScript的构造函数并不是作为类的一个特定方法存在的；当任意一个普通函数用于创建一类对象时，它就被称作构造函数，或构造器。构造函数本身也是一个函数，只不过可以用它来 <em>创建对象</em> 而已。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//先来看一个构造函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,job</span>)</span>&#123;   <span class="comment">//构造函数命名首字母大写</span></div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.age = age;</div><div class="line">  <span class="keyword">this</span>.job = job;</div><div class="line">  <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"Jack"</span>,<span class="number">29</span>,<span class="string">"Software Enginner"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Sam"</span>,<span class="number">27</span>,<span class="string">"Doctor"</span>);</div><div class="line"><span class="comment">//要想创建一个新实例，必须使用new操作符，因为你创建的是一个对象</span></div><div class="line"><span class="comment">//person1,person2分别保存着Person的一个不同的实例。这两个对象都有一个constructor(构造函数)属性，该属性指向Person,这点要记着...</span></div><div class="line">alert(person1.constructor == Person);   <span class="comment">//true</span></div><div class="line">alert(person2.constructor == Person);   <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>好，下面我们正式进入原型模式<br>我们创建的每个函数都有一个 <strong>prototype(原型)</strong> 属性，这个属性是一个 <em>指针</em>，指向一个对象，而这个对象的用途是包含可以由特定类型的所有实例共享的属性和方法（看到这里你肯定会懵，继续往下看）。</p>
<p>使用原型对象的好处 :<br>可以让所有实例对象共享它所包含的属性和方法，换句话说，不必在构造函数中定义对象实例的信息，而是可以将这些信息直接添加到原型对象中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//下面来看个例子</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Person.prototype.name = <span class="string">"Jack"</span>;</div><div class="line">  Person.prototype.age = <span class="number">29</span>;</div><div class="line">  Person.prototype.job = <span class="string">"Software Engineer"</span>;</div><div class="line">  Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">person1.sayName();    <span class="comment">//Jack</span></div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line">person2.sayName();    <span class="comment">//Jack</span></div><div class="line">alert(person1.sayName == person2.sayName);    <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>下面我用一张图来让大家理解原型对象 :</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/原型对象.jpg" alt="原型对象"></p>
<p>这张图展示了Person构造函数，Person的原型属性以及Person现有的两个实例之间的关系。</p>
<p>另外，虽然这两个实例都不包含自己的属性和方法，但我们却可以调用原型中的属性和方法，这是通过查找对象属性的过程来实现的。</p>
<p>那么查找对象属性的过程又是怎样的呢？</p>
<p>当代码读取某个对象的某个属性时，都会执行一次搜索，目标是具有给定名字的属性。搜索会从对象实例本身开始。如果在实例中找到了具有给定名子的属性，则返回该属性的值；如果没有找到，则继续搜索指针指向的原型对象。</p>
<p>那么根据这个过程我们就可以很好地将原型对象属性的值给屏蔽掉，换上我们希望的值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Person.prototype.name = <span class="string">"Jack"</span>;</div><div class="line">  Person.prototype.age = <span class="number">29</span>;</div><div class="line">  Person.prototype.job = <span class="string">"Software Engineer"</span>;</div><div class="line">  Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">person1.name = <span class="string">"Sam"</span>;</div><div class="line">alert(person.name);      <span class="comment">//Sam，来自实例</span></div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</div><div class="line">alert(person2.name);     <span class="comment">//Jack，来自原型</span></div></pre></td></tr></table></figure></p>
<p>当为对象实例添加一个对象时，这个属性会屏蔽原型对象中保存的属性，也就是不影响原型对象中保存的属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Person.prototype.name = <span class="string">"Jack"</span>;</div><div class="line">  Person.prototype.age = <span class="number">29</span>;</div><div class="line">  Person.prototype.job = <span class="string">"Software Engineer"</span>;</div><div class="line">  Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">person1.name = <span class="string">"Sam"</span>;</div><div class="line">alert(person1.name);     <span class="comment">//Sam</span></div><div class="line"><span class="keyword">delete</span> person1.name;</div><div class="line">alert(person1.name);     <span class="comment">//Jack</span></div></pre></td></tr></table></figure>
<p><strong>hasOwnProperty()</strong> : 该方法可以检测一个属性是存在于实例中还是存在于原型中，因为是从 <em>Object</em> 继承来的，所以给定属性在 <em>对象实例</em> 中时，返回 <em>true</em>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Person.prototype.name = <span class="string">"Jack"</span>;</div><div class="line">  Person.prototype.age = <span class="number">29</span>;</div><div class="line">  Person.prototype.job = <span class="string">"Software Engineer"</span>;</div><div class="line">  Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(); 	</div><div class="line">alert(person1.hasOwnProperty(<span class="string">"name"</span>));    <span class="comment">//false</span></div><div class="line">person1.name = <span class="string">"Sam"</span>;</div><div class="line">alert(person1.hasOwnProperty(<span class="string">"name"</span>));    <span class="comment">//true</span></div><div class="line"><span class="keyword">delete</span> person1.name;</div><div class="line">alert(person1.hasOwnProperty(<span class="string">"name"</span>));     <span class="comment">//false</span></div></pre></td></tr></table></figure>
<p>通过使用 <strong>hasOwnProperty()</strong> 方法，什么时候访问的是实例属性，什么时候访问的是原型属性就一清二楚了，下图展示了上面例子在不同情况下的实现与原型的关系。</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/hasownproperty.jpg" alt="hasOwnProperty"></p>
<p><strong>原型与in操作符</strong> :<br>有两种方式使用 <strong>in</strong> 操作符，单独使用和在 <strong>for-in</strong> 里面使用，在单独使用时，<strong>in</strong> 操作符会在通过对象能够访问属性时返回 <em>true</em>，无论属性在实例还是原型中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Person.prototype.name = <span class="string">"Jack"</span>;</div><div class="line">  Person.prototype.age = <span class="number">29</span>;</div><div class="line">  Person.prototype.job = <span class="string">"Software Engineer"</span>;</div><div class="line">  Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">alert(person1.hasOwnProperty(<span class="string">"name"</span>));    <span class="comment">//false</span></div><div class="line">alert(<span class="string">"name"</span> <span class="keyword">in</span> person1);   <span class="comment">//true</span></div><div class="line">person1.name = <span class="string">"Sam"</span>;</div><div class="line">alert(person1.hasOwnProperty(<span class="string">"name"</span>));     <span class="comment">//true</span></div><div class="line">alert(<span class="string">"name"</span> <span class="keyword">in</span> person1);   <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>上述代码执行的整个过程中，调用 <em>”name” in person</em> 返回的值总是 <em>true</em>,我们可以同时使用 <em>hasOwnProperty()</em> 和 <em>in</em> 操作符，来确定该属性到底是存在于队对象中，还是存在于原型中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPrototypePerperty</span>(<span class="params">object,name</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> !hasOwnProperty(name) &amp;&amp; (name <span class="keyword">in</span> object);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Person.prototype.name = <span class="string">"Jack"</span>;</div><div class="line">  Person.prototype.age = <span class="number">29</span>;</div><div class="line">  Person.prototype.job = <span class="string">"Software Engineer"</span>;</div><div class="line">  Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> person();</div><div class="line">alert(hasPrototypeProperty(person,<span class="string">"name"</span>));   <span class="comment">//true</span></div><div class="line">person.name = <span class="string">"Sam"</span>;</div><div class="line">alert(hasPrototypeProperty(person,<span class="string">"name"</span>));   <span class="comment">//false</span></div></pre></td></tr></table></figure>
<p><strong>Object.keys()</strong> :<br>取得对象上所有可枚举的 <em>实例</em> 属性，接受 <em>一个对象</em> 作为参数，返回 <em>一个包含所有可枚举属性的数组</em>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Person.prototype.name = <span class="string">"Jack"</span>;</div><div class="line">  Person.prototype.age = <span class="number">29</span>;</div><div class="line">  Person.prototype.job = <span class="string">"Software Engineer"</span>;</div><div class="line">  Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(Person.prototype);</div><div class="line">alert(keys);  <span class="comment">//name,age,job,sayName 	</span></div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</div><div class="line">person1.name = <span class="string">"Sam"</span>;</div><div class="line">person1.age = <span class="number">27</span>;</div><div class="line">alert(<span class="built_in">Object</span>.keys(person1));    <span class="comment">//name.age</span></div><div class="line"><span class="comment">//如果你想要得到所有属性，不管能不能被枚举，可以使用Object.getOwnPropertyNames()方法</span></div><div class="line">alert(<span class="built_in">Object</span>.getOwnPropertyNames(Person.prototype));</div><div class="line"><span class="comment">//constructor,name,age,job,sayName</span></div></pre></td></tr></table></figure>
<p><strong>更简单的原型方法</strong> :</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span></span>&#123;</div><div class="line">&#125;;</div><div class="line">Person.prototype = &#123;</div><div class="line">  name: <span class="string">"Jack"</span>,</div><div class="line">  age: <span class="number">29</span>,</div><div class="line">  job: <span class="string">"Software Enjineer"</span>,</div><div class="line">  sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//需要注意的是如果这样写，constructor属性不在指向Person了，如果想让他指向Person，我们可以手动添加</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span></span>&#123;</div><div class="line">&#125;;</div><div class="line">Person.prototype = &#123;</div><div class="line">  <span class="keyword">constructor</span>: Person,</div><div class="line">  name: "Jack",</div><div class="line">  age: 29,</div><div class="line">  job: "Software Enjineer",</div><div class="line">  sayName: function()&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//但是还跟原来的有点不一样，哪点不一样呢？我们发现现在constructor变成可枚举的了，要想把它变回来，可以使用我们前面介绍的enumerable特性，将它设置为false</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span></span>&#123;</div><div class="line">&#125;</div><div class="line">Person.prototype = &#123;</div><div class="line">  name: <span class="string">"Jack"</span>;</div><div class="line">  age: <span class="number">29</span>;</div><div class="line">  job: <span class="string">"Software Enjineer"</span>;</div><div class="line">  sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">Object</span>.defineProperty(Person.prototype,<span class="string">"constructor"</span>,&#123;</div><div class="line">  enumerable: <span class="literal">false</span>,</div><div class="line">  value: Person</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><strong>原型的动态性</strong> :<br>由于在原型中查找值的过程是一次搜索，因此我们对原型对象作出的任何修改都能够在实例上反映出来————即使先创建了实例也是如此(可以按照指针来理解)。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person();</div><div class="line">Person.prototype.sayHi = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="string">"Hi"</span>);</div><div class="line">&#125;;</div><div class="line">friend.sayHi();    <span class="comment">//Hi</span></div><div class="line"><span class="comment">//但是我们不能重写原型对象，那样会导致实例指不到新定义的原型对象，仍然指向你先前定义的原型对象</span></div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person();</div><div class="line">Person.prototype = &#123;</div><div class="line">  <span class="keyword">constructor</span>: Person,</div><div class="line">  name: "Sam",</div><div class="line">  age: 27,</div><div class="line">  job: "Doctor",</div><div class="line">  sayHi: function()&#123;</div><div class="line">    alert(<span class="string">"Hi"</span>);</div><div class="line">  &#125;;			</div><div class="line">&#125;;</div><div class="line">friend.sayHi();    <span class="comment">//error</span></div></pre></td></tr></table></figure>
<p>下图演示了上面代码的过程:</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/重写原型对象.jpg" alt="重写原型对象"></p>
<p><strong>最后说两句</strong> :<br>原型模式的重要性不仅体现在创建自定义类方面，就连原声的引用类型，都是采用这种模式创建的。所有原声引用类型（Object,Array,String等等）都在其构造函数的原型上定义了方法。下面举两个例子。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alert(<span class="keyword">typeof</span> <span class="built_in">Array</span>.prototype.sort);    <span class="comment">//function		</span></div><div class="line">alert(<span class="keyword">typeof</span> <span class="built_in">String</span>.prototype.substring);   <span class="comment">//function</span></div></pre></td></tr></table></figure>
<p><strong>前面花了大量的篇幅来介绍原型模式，但是原型模式还不是目前使用最为广泛的，目前使用最为广泛的是构造函数模式加原型模式</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,job</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.age = age;</div><div class="line">  <span class="keyword">this</span>.job = job;</div><div class="line">  <span class="keyword">this</span>.friends = [<span class="string">"Tom"</span>,<span class="string">"Marry"</span>];</div><div class="line">&#125;</div><div class="line">Person.prototype = &#123;</div><div class="line">  <span class="keyword">constructor</span>: Person,</div><div class="line">  sayName: function()&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"Jack"</span>,<span class="number">29</span>,<span class="string">"Software Engineer"</span>);</div><div class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Sam"</span>,<span class="number">27</span>,<span class="string">"Doctor"</span>);</div><div class="line">person1.friends.push(<span class="string">"Frank"</span>);</div><div class="line">alert(person1.friends);  <span class="comment">//Tom,Marry,Frank</span></div><div class="line">alert(person2.friends);  <span class="comment">//Tom,Marry</span></div><div class="line">alert(person1.friends == person2.friends);   <span class="comment">//false</span></div><div class="line">alert(person1.sayName == person2.sayName);   <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p><strong>动态原型模式</strong> :<br>有些人可能对这种定义对象的方式觉得麻烦，他可能会说能不能把构造函数和原型封装在一个函数里？答案是肯定的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,job</span>)</span>&#123;</div><div class="line">  <span class="comment">//属性</span></div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.age = age;</div><div class="line">  <span class="keyword">this</span>.job = job;</div><div class="line">  <span class="comment">//方法</span></div><div class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="keyword">this</span>.sayName != <span class="string">"function"</span>)&#123;</div><div class="line">    Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    alert(<span class="keyword">this</span>.name);</div><div class="line">    &#125;;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> friend = <span class="keyword">new</span> Person(<span class="string">"Jack"</span>,<span class="number">29</span>,<span class="string">"Software Engineer"</span>);</div><div class="line">friend.sayName();     <span class="comment">//Jack</span></div></pre></td></tr></table></figure>
<h3 id="5-继承"><a href="#5-继承" class="headerlink" title="5. 继承 :"></a>5. 继承 :</h3><p>JavaScript中叙述了 <em>原型链</em> 的概念，并将其作为实现继承的主要方法。其基本思想是利用原型让一个引用类型继承另一个引用类型的属性和方法。</p>
<p>咱们来简单回顾一下构造函数，原型，和实例的关系。</p>
<p>每个 <em>构造函数</em> 都有一个 <em>原型对象</em>，原型对象里有一个指向 <em>构造函数</em> 的指针，而 <em>实例</em> 都包含一个指向 <em>原型对象</em> 的内部指针。</p>
<p>那么假如我们让 <em>原型对象</em> 作为另一个引用类型的 <em>实例</em>，结果会怎样呢？显然，此时的 <em>原型对象</em> 会包含一个指向 <em>最开始那个原型对象</em> 的指针，相应的，<em>最开始的原型对象</em> 中也包含着一个指向 <em>最开始的构造函数</em> 的指针。</p>
<p>这就是原型链的基本概念…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.property = <span class="literal">true</span>;</div><div class="line">&#125;;</div><div class="line">SuperType.prototype.getSuperValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.property;</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Subtype</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.subproperty = <span class="literal">false</span>;</div><div class="line">&#125;;</div><div class="line"><span class="comment">//继承了SuperType</span></div><div class="line">SubType.prototype = <span class="keyword">new</span> SuperType();</div><div class="line">SubType.protptype.getSubValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.subproperty;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</div><div class="line">alert(instance.getSuperValue());      <span class="comment">//true</span></div></pre></td></tr></table></figure>
<p><img src="http://www.fanyank.com/images/hexoWeb/原型链.jpg" alt="原型链"></p>
<p>在上面的代码中，我们没有使用 <em>SubType</em> 默认提供的原型，而是给它替换了一个新原型；这个新原型就是 <em>SuperType</em> 的实例。于是，新原型不仅具有作为一个 <em>SuperType</em> 的实例拥有的所有属性和方法，而且其内部还有一个指针，指向 <em>SuperType</em> 的原型。</p>
<p>最终的结果就是这样，<em>instance</em> 指向 <em>SubType</em> 的原型，<em>SubType</em> 的原型又指向 <em>SuperType</em> 的原型。<em>getSuperValue()</em> 方法仍然还在 <em>SuperType.prototype</em> 中，但 <em>property</em> 则位于 <em>SubType.prototype</em> 中。这是因为 <em>property</em> 是一个实例属性，而 <em>getSuperValue()</em> 则是一个原型方法。既然 <em>SubType.prototype</em> 现在是 <em>SuperType</em> 的实例，那么 <em>property</em> 当然也就位于该实例中了。</p>
<p><strong>别忘记了默认的原型</strong>。</p>
<p>事实上，前面的例子展示的原型链少一环。因为所有的引用类型都是 <strong>Object</strong>,而这个继承也是通过原型链实现的。所有的函数的默认原型都是 <strong>Object</strong> 的实例。</p>
<p><img src="http://www.fanyank.com/images/hexoWeb/完整原型链.jpg" alt="完整原型链"></p>
<p><strong>原型链的问题</strong> :<br>    如果有包含引用类型的原型（比如数组），那么数组一旦改动就将一起整条链上的数组发生变化，而这一点我们有时候是不希望看到的。</p>
<p><em>解决方法</em> :<br><strong>借用构造函数</strong>：<br>    通过使用 <strong>apply()</strong> 和 <strong>call()</strong> 方法在新创建的对象上执行构造函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"blue"</span>,<span class="string">"green"</span>];</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">//继承了SuperType</span></div><div class="line">  SuperType.call(<span class="keyword">this</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> instance1 = <span class="keyword">new</span> SubType();</div><div class="line">instance1.colors.push(<span class="string">"black"</span>);</div><div class="line">alert(instance1.colors);  <span class="comment">//red,blue,green,black		</span></div><div class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType();</div><div class="line">alert(instance2.colors);  <span class="comment">//red,blue,green</span></div></pre></td></tr></table></figure>
<p>相对于原型链而言，借用构造函数还有一个很大的优势，那就是可以传递参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">//继承了SuperType,同时还传递了参数</span></div><div class="line">  SuperType.call(<span class="keyword">this</span>,<span class="string">"Jack"</span>);</div><div class="line">  <span class="comment">//实例属性</span></div><div class="line">  <span class="keyword">this</span>.age = <span class="number">29</span>;</div><div class="line">&#125;		 </div><div class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> SubType();</div><div class="line">alert(instance.name);    <span class="comment">//Jack</span></div><div class="line">alert(instance.age);     <span class="comment">//29</span></div></pre></td></tr></table></figure>
<p>但是这种方法还是很少人用。</p>
<p>那么最常用的继承方法是什么呢？</p>
<p>答案是 <em>组合继承</em>。</p>
<p>组合继承有时候也成为伪经典继承，指的是将原型链和借用构造函数技术组合到一块，从而发挥二者之长的继承模式。</p>
<p>主要的思路是：使用原型链实现对原型 <em>属性和方法</em> 的继承，而通过借用构造函数来实现对 <em>实例属性</em> 的继承。这样一来，既通过在原型上定义方法实现了函数复用，又能保证每个实例都有它自己的属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SuperType</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.colors = [<span class="string">"red"</span>,<span class="string">"blue"</span>,<span class="string">"green"</span>];</div><div class="line">&#125;;</div><div class="line">SuperType.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="keyword">this</span>.name);</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">SubType</span>(<span class="params">name,age</span>)</span>&#123;</div><div class="line">  <span class="comment">//继承属性</span></div><div class="line">  SuperType.call(<span class="keyword">this</span>,name);</div><div class="line">  <span class="keyword">this</span>.age = age;</div><div class="line">&#125;;</div><div class="line">SubType.prototype = <span class="keyword">new</span> SuperType();</div><div class="line">SubType.prototype.sayAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="keyword">this</span>.age);</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> instance1 = <span class="keyword">new</span> SubType(<span class="string">"Jack"</span>,<span class="number">29</span>);</div><div class="line">instance1.colors.push(<span class="string">"Black"</span>);</div><div class="line">alert(instance1.colors);     <span class="comment">//red,blue,green,black</span></div><div class="line">instance1.sayName();         <span class="comment">//Jack</span></div><div class="line">instance1.sayAge();          <span class="comment">//29</span></div><div class="line"><span class="keyword">var</span> instance2 = <span class="keyword">new</span> SubType(<span class="string">"Sam"</span>,<span class="number">27</span>);</div><div class="line">alert(instance2.colors);    <span class="comment">//red,blue,green</span></div><div class="line">instance2.sayName();        <span class="comment">//Sam</span></div><div class="line">instance2.sayAge();         <span class="comment">//27</span></div></pre></td></tr></table></figure>
<p>组合继承避免了原型链和借用构造函数的缺陷，融合了他们的优点，成为了JavaScript中最受欢迎的继承模式。</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结 :"></a>小结 :</h3><ul>
<li><p><strong>工厂模式</strong> : 使用简单的函数创建对象，为对象添加属性和方法，然后返回对象，这个模式后来被构造函数模式所取代。</p>
</li>
<li><p><strong>构造函数模式</strong> : 可以创建自定义引用类型，可以像创建内置对象实例一样使用 <strong>new</strong> 操作符，不过，构造函数的缺点就在于他的每个成员都无法得到复用，包括函数。</p>
</li>
<li><p><strong>原型模式</strong> : 使用构造函数的 <strong>prototype</strong> 属性来指定那些应该共享的属性和方法。</p>
</li>
<li><p><strong>组合使用构造函数和原型模式</strong> : 使用构造函数定义实例属性，使用原型定义共享的属性和方法。</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/27/JavaScript-第六章/" data-id="cistqxt9k0001grnrz5rcyapw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript-面向对象程序设计/">JavaScript 面向对象程序设计</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript-第五章" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/JavaScript-第五章/" class="article-date">
  <time datetime="2016-08-26T02:31:54.000Z" itemprop="datePublished">2016-08-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/JavaScript-第五章/">JavaScript 第五章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第五章-引用类型"><a href="#第五章-引用类型" class="headerlink" title="第五章 引用类型"></a>第五章 引用类型</h2><h4 id="引用类型是一种数据结构，用于将数据和功能组合在一起，他也常被称为类（但是并不是类）。"><a href="#引用类型是一种数据结构，用于将数据和功能组合在一起，他也常被称为类（但是并不是类）。" class="headerlink" title="引用类型是一种数据结构，用于将数据和功能组合在一起，他也常被称为类（但是并不是类）。"></a>引用类型是一种数据结构，用于将数据和功能组合在一起，他也常被称为类（但是并不是类）。</h4><h3 id="1-创建对象的两种方法"><a href="#1-创建对象的两种方法" class="headerlink" title="1. 创建对象的两种方法 :"></a>1. 创建对象的两种方法 :</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//使用object类型</span></div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();<span class="comment">//等价于var person = &#123;&#125;;</span></div><div class="line">person.name = <span class="string">"Jack"</span>;</div><div class="line">person.age = <span class="number">29</span>;</div><div class="line"><span class="comment">//使用对象字面量表示法（优点是使用大量属性时无需重复写对象名）</span></div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">  name : <span class="string">"Jack"</span>,</div><div class="line">  age : <span class="number">29</span></div><div class="line">&#125;<span class="comment">//注意属性之间用逗号隔开，最后一个属性后面没有逗号</span></div><div class="line"><span class="comment">//另外在使用对象字面量表示法时，属性名也可以使用字符串(这样属性名就变成可读的哦)</span></div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">  <span class="string">"name"</span> : <span class="string">"Jack"</span>,</div><div class="line">  <span class="string">"age"</span> : <span class="number">29</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-数组"><a href="#2-数组" class="headerlink" title="2. 数组 :"></a>2. 数组 :</h3><p>在JavaScript中你可以用数组来表是任何一种数据，甚至在同一个数组中时也是如此，并且JavaScript数组的长度是动态调整的，你可以在任何时候给数组添加值或者删除值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//创建数组的方法</span></div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">20</span>);</div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"Blue"</span>,<span class="string">"Green"</span>,<span class="string">"Red"</span>);</div><div class="line"><span class="comment">//利用上述方法new操作符可以省略</span></div><div class="line"><span class="comment">//更为常见的是使用字面量表示法</span></div><div class="line"><span class="keyword">var</span> colors = [<span class="string">"Blue"</span>,<span class="string">"Green"</span>,<span class="string">"Red"</span>];</div><div class="line"><span class="comment">//数组的length属性并不是只读的，你可以用它来删除数组项或新增数组项</span></div><div class="line"><span class="keyword">var</span> colors = [<span class="string">"Blue"</span>,<span class="string">"Green"</span>,<span class="string">"Red"</span>];</div><div class="line">colors.length = <span class="number">2</span>;       <span class="comment">//删除了Red项</span></div><div class="line">colors[colors.length] = <span class="string">"Red"</span>;</div><div class="line">colors[colors.length] = <span class="string">"Yellow"</span>;   <span class="comment">//随时为数组增添项</span></div></pre></td></tr></table></figure></p>
<h3 id="3-栈方法"><a href="#3-栈方法" class="headerlink" title="3. 栈方法 :"></a>3. 栈方法 :</h3><ul>
<li><strong>push()</strong> : <strong>push()</strong> 方法接收任意个参数，并把他们逐个添加到数组的末尾，最后返回修改后 <em>数组的长度</em>。</li>
<li><strong>pop()</strong> : <strong>pop()</strong> 方法则从数组的末尾移除一项，减少数组的长度，然后返回 <em>数组移除的值</em>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//push</span></div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line"><span class="keyword">var</span> count = colors.push(<span class="string">"Red"</span>,<span class="string">"Blue"</span>);</div><div class="line">alert(count);      <span class="comment">//2</span></div><div class="line"><span class="comment">//pop</span></div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line"><span class="keyword">var</span> count = colors.push(<span class="string">"Red"</span>,<span class="string">"Blue"</span>);</div><div class="line"><span class="keyword">var</span> item = colors.pop();</div><div class="line">alert(item);       <span class="comment">//Blue</span></div><div class="line">alert(colors.length);    <span class="comment">//1</span></div></pre></td></tr></table></figure>
<h3 id="4-队列方法"><a href="#4-队列方法" class="headerlink" title="4. 队列方法 :"></a>4. 队列方法 :</h3><ul>
<li><strong>shift()</strong> : 移除数组的第一个项并<strong>返回该项</strong>，同时将数组的长度减一。</li>
<li><strong>unshift()</strong> : 在数组前端添加任意个项并返回<em>新数组的长度</em>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//shift		</span></div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line"><span class="keyword">var</span> count = colors.push(<span class="string">"Red"</span>,<span class="string">"Blue"</span>);</div><div class="line"><span class="keyword">var</span> item = colors.shift();</div><div class="line">alert(item);       <span class="comment">//Red</span></div><div class="line">alert(colors.length);     <span class="comment">//1</span></div><div class="line"><span class="comment">//unshift</span></div><div class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line"><span class="keyword">var</span> count = colors.push(<span class="string">"Red"</span>,<span class="string">"Blue"</span>);</div><div class="line"><span class="keyword">var</span> counts = colors.unshift(<span class="string">"Black"</span>);</div><div class="line">alert(colors.counts);      <span class="comment">//3</span></div></pre></td></tr></table></figure>
<h3 id="5-重排序方法"><a href="#5-重排序方法" class="headerlink" title="5. 重排序方法 :"></a>5. 重排序方法 :</h3><ul>
<li><strong>reverse()</strong> : 反转数组的顺序，返回<em>排序过后的新数组</em>。</li>
<li><strong>sort()</strong> : <strong>sort()</strong> 方法按升序排列数组项，即最小的值位于前面，最大的值位于后面，最后返回<em>排序后的新数组</em>。但具体是按什么来比较呢？其实为了实现排序，<strong>sort()</strong> 会调用每个数组元素的 <strong>toString()</strong> 方法，然后比较转型后的字符串，从而确定排序。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//reverse</span></div><div class="line"><span class="keyword">var</span> number = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line">number.reverse();</div><div class="line">alert(number);     <span class="comment">//5,4,3,2,1</span></div><div class="line"><span class="comment">//sort</span></div><div class="line"><span class="keyword">var</span> number = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>];</div><div class="line">number.sort();</div><div class="line">alert(number);      <span class="comment">//0,1,10,15,5（字符串比较规则嘛）</span></div><div class="line"><span class="comment">//那么如何按照从小到大来比排列呢？</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(a &lt; b)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(a &gt; b)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">return</span>  <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> number = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>];</div><div class="line">number.sort(compare);</div><div class="line">alert(number);       <span class="comment">//0,1,5,10,15</span></div><div class="line"><span class="comment">//要想从大到小只需将compare倒过来即可</span></div><div class="line"><span class="comment">//看到这里你可能想说，好麻烦啊，compare就不能简单点吗？</span></div><div class="line"><span class="comment">//答案是可以，但是只能对数值类型或者valueOf()方法返回数值类型的对象使用，函数定义如下：</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> a - b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="6-操作方法"><a href="#6-操作方法" class="headerlink" title="6. 操作方法 :"></a>6. 操作方法 :</h3><ul>
<li><p><strong>concat()</strong> : <strong>concat()</strong> 方法会创建当前数组的一个副本，然后将接受的参数添加到这个副本数组的末尾，最后返回 <em>这个新数组</em>，如果没有传入参数，将只创建一个副本数组。</p>
</li>
<li><p><strong>slice()</strong> : 切割方法，接受两个参数，一个是切割起始位置，一个是切割末位置，<br>然后返回<em>起始位置和末位置之间的项，但不包括 </em>末项<em> ，如果只有一个参数，则返回指定位置到数组末尾的所有项，需要注意的是，<em>*slice()</em></em> 方法不影响原数组。</p>
</li>
<li><p><strong>splice()</strong> : 最强大的数组方法。</p>
<ul>
<li>删除：可以删除任意数量的项，指定两个参数，要删除的第一项的位置和要删除的项数。</li>
<li>插入：可以向指定位置插入任意数量的项，指定三个参数，起始位置，0（要删除的项数），要插入的项（多个项用逗号隔开）。</li>
<li>替换：可以向指定位置删除任意的项并添加任意的项，指定三个参数，起始位置，要删除的项数，要插入的项（多个用逗号隔开）。</li>
</ul>
</li>
<li><p><strong>join()</strong> : 将数组转换为字符串的方法，但原有数组仍然保留。<br>传入的参数为指定的分隔符，不传则默认使用逗号将数组的每一个元素隔开。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//concat</span></div><div class="line"><span class="keyword">var</span> colors = [<span class="string">"Green"</span>];</div><div class="line"><span class="keyword">var</span> colors2 = colors.concat(<span class="string">"Yellow"</span>,[<span class="string">"Blue"</span>,<span class="string">"Red"</span>]);</div><div class="line">alert(colors2);   <span class="comment">//Green,Yellow,Blue,Red</span></div><div class="line"><span class="comment">//slice</span></div><div class="line"><span class="keyword">var</span> colors = [<span class="string">"Green"</span>,<span class="string">"Red"</span>,<span class="string">"Blue"</span>,<span class="string">"Yellow"</span>];</div><div class="line"><span class="keyword">var</span> colors2 = colors.slice(<span class="number">1</span>);</div><div class="line"><span class="keyword">var</span> colors3 = colors.slice(<span class="number">1</span>,<span class="number">3</span>);</div><div class="line">alert(colors2);     <span class="comment">//Red,Blue,Yellow</span></div><div class="line">alert(colors3);     <span class="comment">//Red,Blue</span></div><div class="line"><span class="comment">//splice</span></div><div class="line"><span class="keyword">var</span> colors = [<span class="string">"Red"</span>,<span class="string">"Green"</span>,<span class="string">"Blue"</span>];</div><div class="line"><span class="keyword">var</span> removed = colors.splice(<span class="number">0</span>,<span class="number">1</span>);   <span class="comment">//删除第一项</span></div><div class="line">alert(colors);    <span class="comment">//Green,blue</span></div><div class="line">alert(removed);    <span class="comment">//Red		</span></div><div class="line">removed = colors.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="string">"Yellow"</span>,<span class="string">"Orange"</span>); <span class="comment">//从位置一开始插入两项</span></div><div class="line">alert(colors);    <span class="comment">//Green,Yellow,Orange,Blue</span></div><div class="line">alert(removed);   <span class="comment">//返回的是空数组</span></div><div class="line">removed = colors.splice(<span class="number">1</span>,<span class="number">1</span>,<span class="string">"Red"</span>,<span class="string">"Purple"</span>); <span class="comment">//插入两项，删除一项</span></div><div class="line">alert(colors);   <span class="comment">//Green,Red,Purple,Orange,Blue</span></div><div class="line">alert(removed);  <span class="comment">//Yellow</span></div><div class="line"><span class="comment">//join</span></div><div class="line"><span class="keyword">var</span> names = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"Tom"</span>,<span class="string">"John"</span>,<span class="string">"Marry"</span>);</div><div class="line">alert(names.join(<span class="string">"|"</span>));   <span class="comment">//Tom|John|Marry</span></div><div class="line">alert(names);             <span class="comment">//Tom,John,Marry</span></div></pre></td></tr></table></figure>
<h3 id="7-位置方法"><a href="#7-位置方法" class="headerlink" title="7. 位置方法 :"></a>7. 位置方法 :</h3><ul>
<li><strong>indexOf()</strong> : 从数组的开头（位置0）开始向后查找，返回 <em>目标在数组中的位置</em>。</li>
<li><strong>lastIndexOf()</strong> : 从数组的末尾开始向前查找，返回 <em>目标在数组中的位置</em>。<br>PS：没有找到两者都返回 <em>-1</em>。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> number = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>];</div><div class="line">alert(number.indexOf(<span class="number">4</span>));          <span class="comment">//3</span></div><div class="line">alert(number.lastIndexOf(<span class="number">4</span>));      <span class="comment">//5</span></div><div class="line"><span class="comment">//还可以从你指定的位置开始查找，只需传入两个参数即可</span></div><div class="line">alert(number.indexOf(<span class="number">4</span>,<span class="number">4</span>));                <span class="comment">//5(别犯蒙)</span></div><div class="line">alert(number.lastIndexOf(<span class="number">4</span>,<span class="number">4</span>));            <span class="comment">//3(别犯蒙)</span></div></pre></td></tr></table></figure>
<h3 id="8-迭代方法"><a href="#8-迭代方法" class="headerlink" title="8. 迭代方法 :"></a>8. 迭代方法 :</h3><p>  简而言之就是对数组的每一个元素进行操作。</p>
<ul>
<li><p><strong>every()</strong> : 对数组的每一项运行给定函数，如果每一项都返回 <strong>true</strong>，则返回 <strong>true</strong>。</p>
</li>
<li><p><strong>some()</strong> : 对数组的每一项运行给定函数，只要有一项返回 <strong>true</strong>,则返回 <strong>true</strong>。</p>
</li>
<li><p><strong>filter()</strong> : 对数组的每一项运行给定函数，返回 <em>true项组成的数组</em>。</p>
</li>
<li><p><strong>map()</strong> : 对数组的每一项运行给定函数，返回 <em>调用结果组成的数组</em>。</p>
</li>
<li><p><strong>forEach()</strong> : 对数组的每一项运行给定函数，这个函数 <em>没有返回值</em>。<br>PS:以上方法不会修改原数组的值。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> number = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>];</div><div class="line"><span class="comment">//every</span></div><div class="line"><span class="keyword">var</span> everyResult = number.every(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,array</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span>(item &gt; <span class="number">2</span>);</div><div class="line">&#125;);</div><div class="line">alert(everyResult);        <span class="comment">//false</span></div><div class="line"><span class="comment">//some</span></div><div class="line"><span class="keyword">var</span> someResult = number.some(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,array</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span>(item &gt; <span class="number">2</span>);</div><div class="line">&#125;);</div><div class="line">alert(someResult);         <span class="comment">//true</span></div><div class="line"><span class="comment">//filter</span></div><div class="line"><span class="keyword">var</span> filterResult = number.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,array</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span>(item &gt; <span class="number">2</span>);</div><div class="line">&#125;);</div><div class="line">alert(filterResult);       <span class="comment">//[3,4,5,4,3]</span></div><div class="line"><span class="comment">//map</span></div><div class="line"><span class="keyword">var</span> mapResult = number.map(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,array</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> item * <span class="number">2</span>;</div><div class="line">&#125;);</div><div class="line">alert(mapResult);          <span class="comment">//[2,4,6,8,10,8,6,4,2]</span></div><div class="line"><span class="comment">//forEach</span></div><div class="line">number.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index,array</span>)</span>&#123;</div><div class="line"><span class="comment">//执行某些操作</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="9-缩小方法"><a href="#9-缩小方法" class="headerlink" title="9. 缩小方法 :"></a>9. 缩小方法 :</h3><ul>
<li><p><strong>reduce()</strong> : 从数组的第一项开始，遍历到数组末尾。Array的reduce()把一个函数作用在这个Array的[x1, x2, x3…]上，这个函数必须接收两个参数，reduce()把结果继续和序列的下一个元素做累积计算。</p>
</li>
<li><p><strong>reduceRight()</strong> : 方向和 <strong>reduce()</strong> 相反，作用相同。</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//利用reduce累加求和</span></div><div class="line"><span class="keyword">var</span> number = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line"><span class="keyword">var</span>	sum = number.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> x + y;</div><div class="line">&#125;);</div><div class="line">alert(sum);         <span class="comment">//15</span></div><div class="line"><span class="keyword">var</span> sum2 = number.reduceRight(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</div><div class="line"><span class="keyword">return</span> x + y;</div><div class="line">&#125;);</div><div class="line">alert(sum2);        <span class="comment">//15</span></div></pre></td></tr></table></figure>
<h3 id="10-Date类型"><a href="#10-Date类型" class="headerlink" title="10. Date类型 :"></a>10. Date类型 :</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//创建一个日期对象</span></div><div class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</div></pre></td></tr></table></figure>
<p>在没有给 <strong>Date()</strong> 构造函数传入任何参数的情况下，<strong>Date()</strong> 函数会自动调用当前的日期和时间。如果人为的控制时间，则需用到以下方法…</p>
<p><strong>Date.parse()</strong> : 该方法接受字符串参数，事实上，如果给 <strong>Date()</strong> 函数传入字符串参数，<strong>Date()</strong> 会在后台默认调用 <strong>parse()</strong> 方法，如果传入的参数不能表示日期，则会返回 <em>NAN</em>。</p>
<p><strong>Date.UTC()</strong> : 该方法传入的参数是数值，按顺序传入年，月，日，时，分，秒参数，其中，只有前两个参数是必须要传的（年和月），其他的在不传的情况下默认为0，月份使用偏移量的方法来表示（即一月是0）。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//不给Date传入参数调用当前时间</span></div><div class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">alert(now);    <span class="comment">//Sat, 16 Apr 2016 07:50:35 GMT</span></div><div class="line"><span class="comment">//Data.parse()</span></div><div class="line"><span class="keyword">var</span> someDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.parse(<span class="string">"May 25,2004"</span>));  <span class="comment">//创建了一个2004年5月24号的日期对象</span></div><div class="line"><span class="keyword">var</span> someDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.UTC(<span class="number">2005</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">17</span>,<span class="number">55</span>,<span class="number">55</span>));  <span class="comment">//创建了一个2005年5月5号17点55分55秒的日期对象				</span></div><div class="line"><span class="comment">//事实上我们完全可以根据Date()函数的特点省略Date.parse()和Date.UTC(),因为Date()会根据参数的类型自动在后台调用。</span></div><div class="line"><span class="keyword">var</span> someDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"May 25,2004"</span>);  <span class="comment">//创建了一个2004年5月24号的日期对象</span></div><div class="line"><span class="keyword">var</span> someDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2005</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">17</span>,<span class="number">55</span>,<span class="number">55</span>);  <span class="comment">//创建了一个2005年5月5号17点55分55秒的日期对象</span></div></pre></td></tr></table></figure></p>
<p>另外JavaScript添加了 <strong>Date.now()</strong> 方法，表示调用这个方法时的日期和时间的毫秒数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> start = <span class="built_in">Date</span>.now();     <span class="comment">//取得开始时间</span></div><div class="line">doSomething();              <span class="comment">//调用函数</span></div><div class="line"><span class="keyword">var</span> stop = <span class="built_in">Date</span>.now();      <span class="comment">//取得结束时间</span></div><div class="line">result = stop - start;</div><div class="line"><span class="comment">//使用+操作符把Date()对象转换成字符串也可以达到同样的目的（+操作符在遇见对象时会自动调用toString()方法，取得对象的字符串值）</span></div><div class="line"><span class="keyword">var</span> start = +<span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">doSomething();</div><div class="line"><span class="keyword">var</span> stop = +<span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">result = stop - start;</div><div class="line"><span class="comment">//使用Date.now()方法返回的只是一个时间戳（一堆表示毫秒的数字），直接输出是看不懂的，所以我们需要将时间戳转换成给正常人看的日期</span></div><div class="line"><span class="keyword">var</span> now = <span class="built_in">Date</span>.now();</div><div class="line">alert(now);                 <span class="comment">//1460792002349(时间戳)</span></div><div class="line"><span class="keyword">var</span> nowTime = <span class="keyword">new</span> <span class="built_in">Date</span>(now);</div><div class="line">alert(nowTime.toLocaleString());   <span class="comment">//2016/4/16 下午3:35:50</span></div><div class="line"><span class="comment">//还有很多转换时间戳的方法</span></div><div class="line">alert(nowTime.toDateString());    <span class="comment">//Sat Apr 16 2016</span></div><div class="line">alert(nowTime.toTimeString());    <span class="comment">//15:45:43 GMT+0800 (CST)</span></div><div class="line">alert(nowTime.toLocaleDateString());      <span class="comment">//2016/4/16</span></div><div class="line">alert(nowTime.toLocaleTimeString());      <span class="comment">//下午3:47:53</span></div><div class="line">alert(nowTime.toUTCString());  <span class="comment">//Sat, 16 Apr 2016 07:50:35 GMT</span></div></pre></td></tr></table></figure></p>
<h3 id="11-RegExp类型"><a href="#11-RegExp类型" class="headerlink" title="11. RegExp类型 :"></a>11. RegExp类型 :</h3><p>内容太多，主要用于验证一些字符串。具体内容可以参考<a href="http://www.liaoxuefeng.com/wiki/001434446689867b27157e896e74d51a89c25cc8b43bdb3000/001434499503920bb7b42ff6627420da2ceae4babf6c4f2000" target="_blank" rel="external">廖雪峰的正则表达式教程</a></p>
<h3 id="12-Function类型"><a href="#12-Function类型" class="headerlink" title="12. Function类型 :"></a>12. Function类型 :</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//定义函数的两种方法,两种方式完全一样</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum1 + sum2;</div><div class="line">&#125;      <span class="comment">//第一种</span></div><div class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line"><span class="keyword">return</span> sum1 + sum2;</div><div class="line">&#125;       <span class="comment">//第二种</span></div></pre></td></tr></table></figure>
<p>在JavaScript中，函数名只起到一个指针的作用，故可以像其他变量一样使用函数名来赋值等操作。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">sum1,sum2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum1 + sum2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> anotherSum = sum;</div><div class="line">alert(anotherSum(<span class="number">10</span>,<span class="number">10</span>));      <span class="comment">//20</span></div><div class="line">sum = <span class="literal">null</span>;</div><div class="line">alert(another(<span class="number">10</span>,<span class="number">10</span>));         <span class="comment">//20</span></div></pre></td></tr></table></figure>
<p>JavaScript函数也没有重载的概念，还是因为函数名只起到了一个指针的作用，一旦函数名一样，那么后定义的函数将覆盖前面所定义的函数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">sum1,sum2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum1 + sum2;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">sum1,sum2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum1 - sum2;</div><div class="line">&#125;     <span class="comment">//将覆盖前面所定义的函数</span></div><div class="line">alert(sum(<span class="number">10</span>,<span class="number">2</span>));      <span class="comment">//8</span></div><div class="line"><span class="comment">//函数的声明与函数表达式：</span></div><div class="line"><span class="comment">//JavaScript引擎会在代码执行前将函数的声明放在源代码树的顶部，所以即使后声明函数也不会有什么问题</span></div><div class="line">alert(sum(<span class="number">10</span>,<span class="number">10</span>));      <span class="comment">//20</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum1 + sum2;</div><div class="line">&#125;</div><div class="line"><span class="comment">//但是如果这样做就不对了</span></div><div class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum1 + sum2;</div><div class="line">&#125;      <span class="comment">//这样做会发生错误，原因是这是一个对sum初始化语句，而不是函数的声明，开头讲的两个函数的定义方法也仅有这一种区别</span></div></pre></td></tr></table></figure></p>
<p>继续深入理解函数名是指针的作用，函数名还可以被当做另一个函数的参数来传递，也可以作为另一函数的返回值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//用作函数的参数		</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSomeFunction</span>(<span class="params">someFunction,someArgument</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> SomeFunction(someArgument)</div><div class="line">&#125;      <span class="comment">//接受函数的函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add10</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> num + <span class="number">10</span>;</div><div class="line">&#125;      <span class="comment">//被传递的函数</span></div><div class="line"><span class="keyword">var</span> result = callSomeFunction(add10,<span class="number">10</span>);</div><div class="line">alert(result);      <span class="comment">//20</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGreeting</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"Hello,"</span> + <span class="string">"name"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> hello = callSomeFunction(getGreeting,<span class="string">"Jack"</span>);</div><div class="line">alert(hello);      <span class="comment">//Jack</span></div><div class="line"></div><div class="line"><span class="comment">//用作函数的返回值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">creatComparisonFunction</span>(<span class="params">propertyName</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">object1,object2</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> value1 = object1[property];</div><div class="line">    <span class="keyword">var</span> value2 = object2[property]; <span class="comment">//使用方括号取得property值</span></div><div class="line">    <span class="keyword">if</span>(value1 &lt; value2)&#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">-1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(value1 &gt; value2)&#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> data = [&#123;name:<span class="string">"Jack"</span>,age:<span class="number">28</span>&#125;,&#123;name:<span class="string">"Sam"</span>,age:<span class="number">29</span>&#125;];</div><div class="line">data.sort(creatComparisonFunction(<span class="string">"name"</span>));</div><div class="line">alert(data[<span class="number">0</span>].name);     <span class="comment">//Jack</span></div><div class="line">data.sort(creatComparisonFunction(<span class="string">"age"</span>));</div><div class="line">alert(data[<span class="number">0</span>].name);      <span class="comment">//Sam</span></div></pre></td></tr></table></figure></p>
<p>在函数的内部，有两个特殊的 <em>对象</em> ，一个是 <strong>arguments</strong> ,一个是 <strong>this</strong>。</p>
<ul>
<li>先来说 <strong>arguments</strong> ,这个对象有一个 <strong>callee</strong> 属性，该属性是一个指针，指向拥有这个 <strong>arguments</strong> 的函数。</li>
<li>再来说 <strong>this</strong> ,其行为与Java和C#中的 <strong>this</strong> 类似，该对象引用的是据以执行的环境对象，<strong>this</strong> 在全局作用域中引用的就是 <strong>window</strong></li>
<li><strong>caller</strong> 这个 <em>属性</em> 保存着调用当前函数的函数的引用。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//callee</span></div><div class="line"><span class="comment">//来看一个阶乘函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(num &lt;= <span class="number">1</span>)</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">      <span class="keyword">return</span> num * factorial(num - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;<span class="comment">//我如果修改了函数名还得修改函数内部的代码（factorial）,现在我不想这么做，能不能用一个东西来代替函数内部的函数名（factorial）</span></div><div class="line"><span class="comment">//这就需要用到了arguments的callee属性了</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(num &lt;= <span class="number">1</span>)</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">      <span class="keyword">return</span> num * <span class="built_in">arguments</span>.callee(num - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;     <span class="comment">//使用arguments.callee代替了原函数名,这样便保证了无论引用函数时是什么名字，都可以正常的进行递归调用啦</span></div><div class="line"><span class="keyword">var</span> trueFactorial = factorial;</div><div class="line">factorial = <span class="literal">null</span>;</div><div class="line">alert(trueFactorial(<span class="number">5</span>));    <span class="comment">//120</span></div><div class="line">alert(trueFactorial(<span class="number">5</span>));    <span class="comment">//错误</span></div><div class="line"><span class="comment">//this</span></div><div class="line"><span class="built_in">window</span>.color = <span class="string">"Blue"</span>;</div><div class="line"><span class="keyword">var</span> o = &#123;color:<span class="string">"Red"</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="keyword">this</span>.color);</div><div class="line">&#125;</div><div class="line">sayColor();      <span class="comment">//Blue</span></div><div class="line">o.sayColor = sayColor;</div><div class="line">o.sayColor();    <span class="comment">//Red</span></div><div class="line"><span class="comment">//caller</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  inner();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="built_in">arguments</span>.callee.caller);</div><div class="line">&#125;</div><div class="line">outer();   <span class="comment">//因为outer()调用了inner，所以arguments.callee.caller就指向了outer()</span></div></pre></td></tr></table></figure>
<p><strong>函数属性和方法</strong> :<br>前面曾经提到过，<strong>函数</strong> 也是对象，既然是对象，那么函数也有着自己的属性和方法，每个函数包含两个属性：<strong>length</strong> 和 <strong>prototype</strong>。</p>
<ul>
<li><strong>length</strong> : 表示函数希望接受的命名参数的个数，这里不再举例。</li>
<li><strong>prototype</strong> : 在ES5中，<strong>prototype</strong> 是不可枚举的，故用 <strong>for-in</strong> 没办法发现它。</li>
</ul>
<p>每个函数都包括两个非继承而来的方法,<strong>apply()</strong> 和 <strong>call()</strong>,这两个方法的用途都是在特定的作用域中调用函数，实际上等于设置函数体内的 <strong>this</strong> 值。</p>
<ul>
<li><strong>apply()</strong> : 该方法接受<em>两个参数</em>，一个是 <em>运行函数的作用域</em>，一个是 <em>参数数组（可以是数组的实例，也可以是arguments对象）</em>。</li>
<li><strong>call()</strong> : 第一个参数也是 <strong>运行函数的作用域</strong>，<strong>其余的参数</strong> 都直接传递给函数。<br>两个方法不仅仅是可以传递参数这么简单，他真正牛逼的地方在于可以 <em>改变函数的运行域</em></li>
<li><strong>bind()</strong> : 这个方法会创建一个函数的实例，其 <em>this</em> 会被绑定到传给 <strong>bind()</strong> 函数的值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum1 + sum2;</div><div class="line">&#125;</div><div class="line"><span class="comment">//apply</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSum1</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);  <span class="comment">//传入arguments</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSum2</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum.apply(<span class="keyword">this</span>,[num1,num2]);   <span class="comment">//传入数组</span></div><div class="line">&#125;</div><div class="line">alert(callSum1(<span class="number">10</span>,<span class="number">10</span>));     <span class="comment">//20</span></div><div class="line">alert(callSum2(<span class="number">10</span>,<span class="number">10</span>));     <span class="comment">//20</span></div><div class="line"><span class="comment">//call</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">callSum</span>(<span class="params">num1,num2</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> sum.call(<span class="keyword">this</span>,num1,num2);</div><div class="line">&#125;</div><div class="line">alert(callSum(<span class="number">10</span>,<span class="number">10</span>));      <span class="comment">//20</span></div><div class="line"><span class="comment">//改变函数的运行域</span></div><div class="line"><span class="keyword">var</span> o = &#123;color:<span class="string">"Blue"</span>&#125;;</div><div class="line"><span class="built_in">window</span>.color = <span class="string">"Red"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="keyword">this</span>.color);</div><div class="line">&#125;</div><div class="line">sayColor.call(<span class="keyword">this</span>);     <span class="comment">//Red</span></div><div class="line">sayColor.call(<span class="built_in">window</span>);   <span class="comment">//Red</span></div><div class="line">sayColor.call(o);        <span class="comment">//Blue</span></div><div class="line"><span class="comment">//bind</span></div><div class="line"><span class="built_in">window</span>.color = <span class="string">"Red"</span>;</div><div class="line"><span class="keyword">var</span> o = &#123;color:<span class="string">"Blue"</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayColor</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  alert(<span class="keyword">this</span>.color);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> anotherColor = sayColor.bind(o);</div><div class="line">anotherColor();   <span class="comment">//Blue</span></div></pre></td></tr></table></figure>
<h3 id="13-基本包装类型"><a href="#13-基本包装类型" class="headerlink" title="13. 基本包装类型 :"></a>13. 基本包装类型 :</h3><p>为了便于操作基本类型值，JavaScript提供了3个特殊的引用类型：<strong>Boolean</strong>,<strong>Number</strong>,<strong>String</strong>.这些类型同时具有与各自基本类型相应的特殊行为。<br>实际上，每当读取一个基本类型的时候，后台就会自动创建一个与其对应的基本包装类型的对象，<em>从而让我们调用一些方法来操作这些数据</em>。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="string">"some text"</span>;</div><div class="line"><span class="keyword">var</span> s2 = s1.subString(<span class="number">2</span>);    <span class="comment">//"me text"</span></div><div class="line"><span class="comment">//在后台跑的程序为</span></div><div class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"some text"</span>);</div><div class="line"><span class="keyword">var</span> s2 = s1.subString(<span class="number">2</span>);</div><div class="line">s1 = <span class="literal">null</span>;</div><div class="line"><span class="comment">//经过上述步骤处理，字符串就变得和对象一样了，也就意味可以像对象那样去调用方法了，上述步骤同样适用于Boolean,Number类型</span></div><div class="line"><span class="comment">//同时需要指明的是，我们不能自己给Boolean,Number,String添加属性，只能调用自带的方法</span></div></pre></td></tr></table></figure></p>
<p>那么怎样来检测到底是 <em>基本包装类型</em>，还是 <em>基本类型</em> 呢？<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s1 = <span class="string">"abc"</span>;</div><div class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"abc"</span>);</div><div class="line">alert(<span class="keyword">typeof</span> s1);    <span class="comment">//"string"</span></div><div class="line">alert(<span class="keyword">typeof</span> s2);    <span class="comment">//"object"</span></div><div class="line">alert(s1 <span class="keyword">instanceof</span> <span class="built_in">String</span>);    <span class="comment">//true</span></div><div class="line">alert(s2 <span class="keyword">instanceof</span> <span class="built_in">String</span>);    <span class="comment">//false</span></div></pre></td></tr></table></figure></p>
<p>接下来开始介绍 <strong>Boolean</strong>,<strong>Number</strong>,<strong>String</strong>。</p>
<ul>
<li><p><strong>Boolean</strong> 不建议大家使用，这里不再介绍。</p>
</li>
<li><p><strong>Number</strong> : 这里只说一下 <em>toFixed()</em> 方法…</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line">alert(num.toFixed(<span class="number">2</span>));  <span class="comment">//10.00</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>String</strong> : 分为字符方法和字符串操作方法两种。<h4 id="字符方法"><a href="#字符方法" class="headerlink" title="字符方法"></a>字符方法</h4><ul>
<li><strong>charAt()</strong></li>
<li><strong>charCodeAt()</strong><h4 id="字符串操作方法"><a href="#字符串操作方法" class="headerlink" title="字符串操作方法"></a>字符串操作方法</h4></li>
<li><strong>concat()</strong></li>
<li><strong>slice()</strong></li>
<li><strong>substr()</strong></li>
<li><strong>substring()</strong></li>
<li><strong>indexOf()</strong> 字符串位置方法。</li>
<li><strong>lastIndexOf()</strong> 字符串位置方法。</li>
<li><strong>tirm()</strong> 删除字符串前后的所用空格。</li>
<li><strong>toLowerCase()</strong> 字符串大小写转换方法。</li>
<li><strong>toUpperCase()</strong> 字符串大小写转换方法。</li>
<li><strong>match()</strong> 字符串匹配方法 match(),本质上与调用RegExp里的exec()方法一样，match()方法只接受一个参数，要么是 <em>一个正则表达式</em>，要么是 <em>一个RegExp对象</em>。</li>
<li><strong>search()</strong> 字符串查找方法 search(),参数与match()相同。</li>
<li><strong>replace()</strong> 字符串替换方法 replace(),接受两个参数，第一个参数 <em>可以使正则表达式或字符串</em>，第二个参数是 <em>字符串或者一个函数</em>。如果参数是字符串，则只会替换第一个被找到的字符串，要想全部被替换，<em>只能使用正则表达式</em>。</li>
<li><strong>split()</strong> 这个方法可以基于指定的分隔符来将一个字符串分割为多个字符串，并将结果保存在 <em>一个数组中</em>，分隔符可以是字符串，也可以是正则表达式。</li>
<li><strong>localCompare()</strong> 比较两个字符串，如果字符串在字母表中排在参数字符串之前，返回-1，反之返回1，相等返回0。</li>
<li><strong>formCharCode()</strong> 与charAt()方法相反。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//charAt()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello,world"</span>;</div><div class="line">alert(stringValue.charAt(<span class="number">1</span>));     <span class="comment">//"e"</span></div><div class="line"><span class="comment">//charCodeAt()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello,world"</span>;</div><div class="line">alert(stringValue.charCodeAt);    <span class="comment">//"101"</span></div><div class="line"><span class="comment">//JavaScript还定义了一种更简单的访问个别字符的方法</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello,world"</span>;</div><div class="line">alert(stringValue[<span class="number">1</span>]);     <span class="comment">//"e"</span></div><div class="line"><span class="comment">//concat()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello "</span>;</div><div class="line"><span class="keyword">var</span> result = stringValue(<span class="string">"world"</span>);</div><div class="line">alert(result);     <span class="comment">//"hello world",其实更多情况下用的是加号操作符来拼接字符串</span></div><div class="line"><span class="comment">//JavaScript还提供了三个创建新字符串的方法，即 slice() substr() substring()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello world"</span>;</div><div class="line">alert(stringValue.slice(<span class="number">3</span>));     <span class="comment">//"lo world"</span></div><div class="line">alert(stringValue.substr(<span class="number">3</span>));    <span class="comment">//"lo world"</span></div><div class="line">alert(stringValue.substring(<span class="number">3</span>)); <span class="comment">//"lo world"</span></div><div class="line">alert(stringValue.slice(<span class="number">3</span>,<span class="number">7</span>));   <span class="comment">//"lo w"</span></div><div class="line">alert(stringValue.substr(<span class="number">3</span>,<span class="number">7</span>));  <span class="comment">//"lo w"</span></div><div class="line">alert(stringValue.substring(<span class="number">3</span>,<span class="number">7</span>)); <span class="comment">//"lo worl"</span></div><div class="line"><span class="comment">//indexOf() lastIndexOf()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello world"</span>;</div><div class="line">alert(stringValue.indexOf(<span class="string">"o"</span>));     <span class="comment">//4,从前往后</span></div><div class="line">alert(stringValue.lastIndexOf(<span class="string">"o"</span>));  <span class="comment">//7,从后往前</span></div><div class="line"><span class="comment">//传递两个参数</span></div><div class="line">alert(stringValue.indexOf(<span class="string">"o"</span>,<span class="number">6</span>));    <span class="comment">//7,从位置6开始查找</span></div><div class="line">alert(stringValue.lastIndexOf(<span class="string">"o"</span>,<span class="number">6</span>)); <span class="comment">//4,同上</span></div><div class="line"><span class="comment">//可以通过循环调用的方法来找到字符串中所用匹配到的字符</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"hello world"</span>;</div><div class="line"><span class="keyword">var</span> positions = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line"><span class="keyword">var</span> pos = stringValue.indexOf(<span class="string">"o"</span>);</div><div class="line"><span class="keyword">while</span>(pos &gt; <span class="number">-1</span>)</div><div class="line">&#123;</div><div class="line">  positions.push(pos);</div><div class="line">  pos = string.indexOf(<span class="string">"o"</span>,pos + <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line">alert(positions);  <span class="comment">//"4,7"</span></div><div class="line"><span class="comment">//tirm()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"   hello world   "</span>;</div><div class="line">alert(stringValue.tirm());  <span class="comment">//"hello world"</span></div><div class="line"><span class="comment">//toLowerCase() toUpperCase()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"Hello world"</span>;</div><div class="line">alert(stringValue.toLowerCase());    <span class="comment">//"hello world"</span></div><div class="line">alert(stringValue.toUpperCase());    <span class="comment">//"HELLO WORLD"</span></div><div class="line"><span class="comment">//match()</span></div><div class="line"><span class="keyword">var</span> text = <span class="string">"cat,bat,sat,fat"</span>;</div><div class="line"><span class="keyword">var</span> partten = <span class="regexp">/.at/g</span>;</div><div class="line"><span class="keyword">var</span> matches = text.match(partten); <span class="comment">//传入一个正则表达式</span></div><div class="line">alert(matches); <span class="comment">//"at,at,at,at"</span></div><div class="line"><span class="comment">//search()</span></div><div class="line"><span class="keyword">var</span> text = <span class="string">"cat,bat,sat,fat"</span>;</div><div class="line"><span class="keyword">var</span> pos = text.search(<span class="regexp">/at/g</span>);</div><div class="line">alert(pos);     <span class="comment">//1,5,9,13</span></div><div class="line"><span class="comment">//replace()</span></div><div class="line"><span class="keyword">var</span> text = <span class="string">"cat,bat,sat,fat"</span>;</div><div class="line"><span class="keyword">var</span> result = text.replace(<span class="regexp">/at/g</span>,<span class="string">"ond"</span>);</div><div class="line">alert(result);   <span class="comment">//"cond,bond,sond,fond"</span></div><div class="line"><span class="comment">//如果第二个参数是字符串，那么还可以使用一些特殊字符序列，将正则表达式操作得到的值插入到结果字符串中。下表列出了JavaScript提供的特殊字符序列</span></div></pre></td></tr></table></figure>
<p><img src="http://www.fanyank.com/images/hexoWeb/特殊字符序列表.png" alt="特殊字符序列表"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//通过上表特殊的字符序列，可以使用最近一次匹配结果的内容</span></div><div class="line"><span class="keyword">var</span> text = <span class="string">"cat,bat,sat,fat"</span>;</div><div class="line">result = text.replace(<span class="regexp">/.at/g</span>,<span class="string">"word($1)"</span>);</div><div class="line">alert(result);   <span class="comment">//"word(cat),word(bat),word(sat),word(fat)"</span></div><div class="line"><span class="comment">//split()</span></div><div class="line"><span class="keyword">var</span> text = <span class="string">"cat,bat,sat,fat"</span>;</div><div class="line"><span class="keyword">var</span> result = text.split(<span class="string">","</span>);</div><div class="line">alert(result);    <span class="comment">//["cat","bat""sat""fat"]</span></div><div class="line"><span class="keyword">var</span> result1 = text.split(<span class="string">","</span>,<span class="number">2</span>);</div><div class="line">alert(result1);    <span class="comment">//["cat","bat"]</span></div><div class="line"><span class="keyword">var</span> result2 = text.split(<span class="regexp">/[^/,]+/</span>);</div><div class="line">alert(result2);    <span class="comment">//["",",",",",""]</span></div><div class="line"><span class="comment">//localCompare()</span></div><div class="line"><span class="keyword">var</span> stringValue = <span class="string">"yellow"</span>;</div><div class="line">alert(stringValue.localCompare(<span class="string">"brown"</span>));    <span class="comment">//1</span></div><div class="line">alert(stringValue.localCompare(<span class="string">"yellow"</span>));   <span class="comment">//0</span></div><div class="line">alert(stringValue.localCompare(<span class="string">"zoo"</span>));      <span class="comment">//-1</span></div></pre></td></tr></table></figure>
<h3 id="14-单体内置对象"><a href="#14-单体内置对象" class="headerlink" title="14. 单体内置对象 :"></a>14. 单体内置对象 :</h3><p>单体内置对象的定义是 : 由JavaScript实现提供的，不依赖于宿主环境的对象，<em>这些对象在JavaScript程序执行之前就已经存在了</em>。</p>
<ul>
<li><strong>Global对象</strong> :<br>  <strong>Global</strong>（全局）对象可以说是JavaScript中最特别的一个对象了，因为不管你从什么角度看，这个对象都是不存在的。JavaScript中的 <strong>Global对象</strong> 在某种意义上是作为一个终极的 <em>兜底对象</em> 来定义的，换句话说，不属于任何其他对象的属性和方法，最终都是它的属性方法。事实上，<em>没有全局变量或全局函数</em>，所有在全局作用域定义的属性和函数，都是 <strong>Global对象</strong> 的属性，前面所介绍的那些函数（<strong>inNaN() , parseInt() , parseFloat()</strong>）实际上都是 <strong>Global对象</strong> 的方法。</li>
</ul>
<p><strong>Global对象</strong> 有自己的方法</p>
<ul>
<li><strong>encodeURI()</strong></li>
<li><strong>encodeURIComponent()</strong></li>
<li><strong>decodeURI()</strong></li>
<li><strong>decodeURIComponent()</strong></li>
</ul>
<p>这几种方法都用于对URI进行编码或者解码，这里不再一一介绍。</p>
<ul>
<li><strong>eval()</strong> : 大概是JavaScript中最强大的一个方法，它就像是一个完整的JavaScript解析器，它只接受一个参数，即 <em>要执行的JavaScript语句的字符串</em> 作用是将传入的参数当做实际的JavaScript语句来执行，这意味着通过 <strong>eval()</strong> 可以引用包含环境中定义的变量。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//eval()</span></div><div class="line"><span class="built_in">eval</span>(<span class="string">"alert('hi')"</span>);     <span class="comment">//hi</span></div><div class="line"><span class="comment">//上面的代码等价于下面这行代码</span></div><div class="line">alert(<span class="string">"hi"</span>);             <span class="comment">//hi</span></div><div class="line"><span class="comment">//包含环境中的变量</span></div><div class="line"><span class="keyword">var</span> msg = <span class="string">"Hello world"</span>;</div><div class="line"><span class="built_in">eval</span>(<span class="string">"alert(msg)"</span>);      <span class="comment">//Hello world</span></div></pre></td></tr></table></figure>
<ul>
<li><strong>Math对象</strong> :<br>这里主要介绍几种 <strong>Math()对象</strong> 方法。<ul>
<li><strong>min()</strong> : 功能如其名,<em>参数可以是任意多个</em>。</li>
<li><strong>max()</strong> : 功能如其名，<em>参数可以是任意多个</em>。<br>以下是舍入方法 :</li>
<li><strong>ceil()</strong> : 执行向上舍入。</li>
<li><strong>floor()</strong> : 执行向下舍入。      </li>
<li><strong>round()</strong> : 四舍五入。<br>以下是随机数方法 :</li>
<li><strong>random()</strong> : 返回 <em>介于0到1之间的一个随机数，不包括0和1</em><br>值 = Math.floor(Math.random() * 可能值的总数 + 第一个可能的值)，这个公式由于调用了floor()方法，故返回的都是整数。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//min()</span></div><div class="line"><span class="keyword">var</span> min = <span class="built_in">Math</span>.min(<span class="number">3</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">78</span>);</div><div class="line">alert(min);     <span class="comment">//3</span></div><div class="line"><span class="comment">//max()</span></div><div class="line"><span class="keyword">var</span> max = <span class="built_in">Math</span>.max(<span class="number">3</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">78</span>);</div><div class="line">alert(max);      <span class="comment">//78</span></div><div class="line"><span class="comment">//这里介绍一种求数组里面最值得方法</span></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</div><div class="line">min = <span class="built_in">Math</span>.min.apply(<span class="built_in">Math</span>,arr); <span class="comment">//注意这里apply方法的参数</span></div><div class="line">alert(min);      <span class="comment">//1</span></div><div class="line"><span class="comment">//ceil()</span></div><div class="line">alert(ceil(<span class="number">25.9</span>));     <span class="comment">//26</span></div><div class="line">alert(ceil(<span class="number">25.5</span>));     <span class="comment">//26</span></div><div class="line">alert(ceil(<span class="number">25.1</span>));     <span class="comment">//26</span></div><div class="line"><span class="comment">//floor()</span></div><div class="line">alert(floor(<span class="number">25.9</span>));     <span class="comment">//25</span></div><div class="line">alert(floor(<span class="number">25.5</span>));     <span class="comment">//25</span></div><div class="line">alert(floor(<span class="number">25.1</span>));     <span class="comment">//25</span></div><div class="line"><span class="comment">//round()</span></div><div class="line">alert(round(<span class="number">25.9</span>));      <span class="comment">//26</span></div><div class="line">alert(round(<span class="number">25.5</span>));      <span class="comment">//26</span></div><div class="line">alert(round(<span class="number">25.1</span>));      <span class="comment">//25</span></div><div class="line"><span class="comment">//random()</span></div><div class="line"><span class="comment">//返回一个1到10的整数</span></div><div class="line"><span class="keyword">var</span> num = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span> + <span class="number">1</span>);</div><div class="line"><span class="comment">//返回一个2到10的整数</span></div><div class="line"><span class="keyword">var</span> num = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">9</span> + <span class="number">2</span>);</div><div class="line"><span class="comment">//实际上，这样做不是特别的直观，我们可以自己写一个函数来令它更直观一些</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">selectFrom</span>(<span class="params">lowerValue,upperValue</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> choices = upperValue - lowerValue + <span class="number">1</span>;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * choices + lowValue);</div><div class="line">&#125;		</div><div class="line"><span class="keyword">var</span> num = selectFrom(<span class="number">2</span>,<span class="number">10</span>);</div><div class="line">alert(num);   <span class="comment">//介于2到10之间的一个随机数</span></div><div class="line"><span class="comment">//具体应用</span></div><div class="line"><span class="keyword">var</span> colors = [<span class="string">"green"</span>,<span class="string">"blue"</span>,<span class="string">"red"</span>];</div><div class="line"><span class="keyword">var</span> color = colors[selectFrom(<span class="number">0</span>,colors.length - <span class="number">1</span>)];</div><div class="line">alert(color);    <span class="comment">//返回一个随机的颜色</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/26/JavaScript-第五章/" data-id="cistqxt9q0003grnrh2lioljj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript-引用类型/">JavaScript 引用类型</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript-第四章" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/26/JavaScript-第四章/" class="article-date">
  <time datetime="2016-08-26T02:04:08.000Z" itemprop="datePublished">2016-08-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/JavaScript-第四章/">JavaScript 第四章</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第四章-变量，作用域，内存等问题"><a href="#第四章-变量，作用域，内存等问题" class="headerlink" title="第四章 变量，作用域，内存等问题"></a>第四章 变量，作用域，内存等问题</h2><h3 id="1-基本类型和引用类型的值"><a href="#1-基本类型和引用类型的值" class="headerlink" title="1. 基本类型和引用类型的值 :"></a>1. 基本类型和引用类型的值 :</h3><p>先说一下基本概念…<br>基本类型指的是简单的数据段<br>引用类型指的是那些可能由多个值构成的对象<br>还不够清楚… 上例子<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();    <span class="comment">//定义了新对象</span></div><div class="line">person.name = <span class="string">"Jack"</span>;         <span class="comment">//person.name就是引用类型</span></div><div class="line"><span class="keyword">var</span> name = <span class="string">"Jack"</span>;            <span class="comment">//name就是基本类型</span></div></pre></td></tr></table></figure></p>
<h3 id="2-复制变量值"><a href="#2-复制变量值" class="headerlink" title="2. 复制变量值 :"></a>2. 复制变量值 :</h3><p>基本类型是按 <strong>值</strong> 传递的<br>引用类型是按 <strong>地址</strong> 传递的<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//这里只列举一下按地址传递</span></div><div class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line"><span class="keyword">var</span> obj1 = obj2;</div><div class="line">obj1.name = <span class="string">"Jack"</span>;</div><div class="line">alert(obj2.name);         <span class="comment">//Jack</span></div></pre></td></tr></table></figure></p>
<h3 id="3-传递参数"><a href="#3-传递参数" class="headerlink" title="3. 传递参数 :"></a>3. 传递参数 :</h3><p>  所有的函数的参数都是按值传递的。<br>  下面举两个例子<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//基本类型按值传递</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">addTen</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">	num += <span class="number">10</span>；</div><div class="line">	<span class="keyword">return</span> num;</div><div class="line">  &#125;</div><div class="line"><span class="keyword">var</span> count = <span class="number">20</span>;</div><div class="line"><span class="keyword">var</span> result = addten(count);</div><div class="line">alert(count);      <span class="comment">//20</span></div><div class="line">alert(result);     <span class="comment">//30</span></div><div class="line"><span class="comment">//引用类型按值传递</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">	obj.name = <span class="string">"Jack"</span>;</div><div class="line">  &#125;</div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">setname(person);</div><div class="line">alert(person.name);     <span class="comment">//Jack</span></div><div class="line"><span class="comment">//看到这里你可能会觉得这不就是按地址传递吗？</span></div><div class="line"><span class="comment">//再来看一个例子</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">   	obj.name = <span class="string">"Jack"</span>;</div><div class="line">   	obj = <span class="keyword">new</span> <span class="built_in">Object</span>();    <span class="comment">//局部变量</span></div><div class="line">   	obj.name = <span class="string">"Sam"</span>;	<span class="comment">//为局部变量赋值</span></div><div class="line">  &#125;</div><div class="line">	<span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">	setName(person);</div><div class="line">	alert(person.name);     <span class="comment">//Jack</span></div><div class="line"><span class="comment">//如你所见，输出的值仍然是Jack,这一点可以证明在函数内部确实是按值传递的。</span></div><div class="line"><span class="comment">//那么如何来理解：</span></div><div class="line"><span class="comment">//可以把函数的参数全部看作是局部变量，在函数内部执行完毕以后会被立即销毁，但是如果是引用类型的（对象），则在访问的时候看作是同一个对象。</span></div></pre></td></tr></table></figure></p>
<h3 id="4-typeof检测数据类型"><a href="#4-typeof检测数据类型" class="headerlink" title="4. typeof检测数据类型 :"></a>4. typeof检测数据类型 :</h3><p>  <strong>typeof</strong> 操作符可以检测以一个变量的数据类型（<strong>string,number,boolean,undefined,object</strong>），但有一个特殊的例子…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</div><div class="line">alert(<span class="keyword">typeof</span> a);    <span class="comment">//object</span></div></pre></td></tr></table></figure></p>
<h3 id="5-执行环境和作用域"><a href="#5-执行环境和作用域" class="headerlink" title="5. 执行环境和作用域 :"></a>5. 执行环境和作用域 :</h3><p>简单的概括来说…<br>内部的可以访问外部的，外部的不可以访问内部的。<br>还需要说一点，函数的参数（<strong>arguments</strong>）也被当做变量来对待，其访问规则同上。<br>PS:如果我对下面这个 <strong>swapColor</strong> 函数使用了 <strong>arguments</strong>,他访问的到底是谁的参数？<br>关于这点，<strong>swapColor()</strong> 会现在自己的变量对象中搜索变量和函数名，如果找不到再回去搜索上一级的作用域链。也就是说，你在使用 <strong>swapColor()</strong> 里的 <strong>arguments</strong> 时，最先被搜索到的肯定是 <strong>swapColor()</strong> 里的 <strong>arguments</strong>,如果 <strong>swapColor()</strong> 函数没有参数，自然而然访问的就是上一级函数的 <strong>arguments</strong> 喽！<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> color = <span class="string">"Blue"</span>;     <span class="comment">//不能访问anotherColor和tempColor</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeColor</span>(<span class="params"></span>)</span>&#123;     <span class="comment">//该函数可以访问color</span></div><div class="line">  <span class="keyword">var</span> anotherColor = <span class="string">"Red"</span>;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">swapColors</span>(<span class="params"></span>)</span>&#123;  <span class="comment">//该函数可以访问color,anotherColor</span></div><div class="line">	  <span class="keyword">var</span> tempColor = anotherColor;</div><div class="line">		anotherColor = color;</div><div class="line">		color = tempColor;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="6-没有块级作用域"><a href="#6-没有块级作用域" class="headerlink" title="6. 没有块级作用域 :"></a>6. 没有块级作用域 :</h3><p>  Javascript并不像C，C++，Java那样的语言一样，由花括号封闭的代码块都有着自己的作用域。还是举例说明…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</div><div class="line">  <span class="keyword">var</span> color = <span class="string">"Blue"</span>;</div><div class="line">&#125;</div><div class="line"> alert(color);        <span class="comment">//Blue</span></div></pre></td></tr></table></figure></p>
<p>这个在C类语言里是绝对行不通的，因为color在if语句执行完毕后会被立即销毁，但是在JavaScript里面却行得通。所以在你写完if或者for语句时，一定要注意，里面的变量仍然存在于外部的执行环境中。或者你可以使用let关键字来申请一个块级变量（需要浏览器支持ES6标准。</p>
<h3 id="7-管理内存"><a href="#7-管理内存" class="headerlink" title="7. 管理内存 :"></a>7. 管理内存 :</h3><p>出于安全方面的考虑，为了防止运行JavaScript的网页而耗尽全部的系统内存导致系统崩溃，编程人员需要尽可能的确保占用最少的内存而获得更好的性能，而优化内存占用的最佳方式，就是为执行中的代码只保存必要的数据，一旦数据不再有用，最好将其值设置为 <strong>null</strong> 来释放其引用—-这个做法叫做解除引用，直接上例子…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">creatPerson</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> localPerson = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">	localPerson.name = name;</div><div class="line">	<span class="keyword">return</span> localPerson;  <span class="comment">//localPerson无需我们显示的为其解除引用，JavaScript垃圾收集机制会自动为其释放内存</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> globalPerson = creatperson(<span class="string">"Jack"</span>);</div><div class="line">globalPerson = <span class="literal">null</span>;</div><div class="line"><span class="comment">//对于globalPerson在我们无需使用它时，可以为它手动解除引用，以求代码最优性能，这里还要说的一点是解除一个值的引用，并不意味着自动回收该值所占用的内存，而是让值脱离其执行环境，以便垃圾收集机制下次运行时将其回收。</span></div></pre></td></tr></table></figure></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结 :"></a>小结 :</h3><ul>
<li>从一个变量向另一个变量复制引用类型的值是，复制的其实是指针，因此，两个变量实际上指的是同一个对象。</li>
<li>包含引用类型的变量实际上包含的并不是对象本身，而是一个指向该对象的指针。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/26/JavaScript-第四章/" data-id="cistqxt9f0000grnrq8m7f5ey" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript-变量，作用域，内存/">JavaScript 变量，作用域，内存</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-函数表达式/">JavaScript 函数表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-变量，作用域，内存/">JavaScript 变量，作用域，内存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-基本概念/">JavaScript 基本概念</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-引用类型/">JavaScript 引用类型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript-面向对象程序设计/">JavaScript 面向对象程序设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-BOM/">javascript BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-DOM/">javascript DOM</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JavaScript-函数表达式/" style="font-size: 10px;">JavaScript 函数表达式</a> <a href="/tags/JavaScript-变量，作用域，内存/" style="font-size: 10px;">JavaScript 变量，作用域，内存</a> <a href="/tags/JavaScript-基本概念/" style="font-size: 10px;">JavaScript 基本概念</a> <a href="/tags/JavaScript-引用类型/" style="font-size: 10px;">JavaScript 引用类型</a> <a href="/tags/JavaScript-面向对象程序设计/" style="font-size: 10px;">JavaScript 面向对象程序设计</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/jQuery/" style="font-size: 20px;">jQuery</a> <a href="/tags/javascript-BOM/" style="font-size: 10px;">javascript BOM</a> <a href="/tags/javascript-DOM/" style="font-size: 10px;">javascript DOM</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/08/css-vertical-align/">css vertical-align</a>
          </li>
        
          <li>
            <a href="/2016/09/06/mouse事件的区别/">mouse事件的区别</a>
          </li>
        
          <li>
            <a href="/2016/09/06/对未来新添加的节点绑定事件/">对未来新添加的节点绑定事件</a>
          </li>
        
          <li>
            <a href="/2016/09/06/jQuery知识体系/">jQuery知识体系</a>
          </li>
        
          <li>
            <a href="/2016/08/29/第九章-DOM/">第九章 DOM</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>